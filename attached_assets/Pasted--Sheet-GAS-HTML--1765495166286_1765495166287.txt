Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª Ù„Ø§ ØªØ¸Ù‡Ø± Ù„Ø£Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© ÙÙŠ Sheet Ù„Ø§ ØªØ·Ø§Ø¨Ù‚ Ù…Ø§ ÙŠØªÙˆÙ‚Ø¹Ù‡ Ø§Ù„ÙƒÙˆØ¯ (GAS + HTML).
Ø§Ù„ÙƒÙˆØ¯ ÙŠÙ‚Ø±Ø£ Ø£Ø³Ù…Ø§Ø¡ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ù„Ø°Ù„Ùƒ ÙŠØ±Ø¬Ø¹ Ø§Ù„Ù‚ÙŠÙ… ÙØ§Ø¶ÙŠØ©.

ğŸ“Œ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© ÙÙŠ Rounds_Log (Ø­Ø³Ø¨ Ø§Ù„ØµÙˆØ±Ø©)

Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± Ù„Ù„ÙŠÙ…ÙŠÙ†ØŒ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù‡Ùˆ:

Date
TaskID
RoundNo
Area
Domain
Planned_Time
Actual_Time
Delay_Min
MaxDelay_Min
Status
Alert
Responsible_Role
Execution_Responsible
Positive_Notes
Negative_Notes
Actions_Taken
Closed_YN
Closed_Date
Is_Violation
Is_Resolved
Resolved_By
Resolved_Date


âœ… Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø±Ø¬Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ â€” Ø£ÙŠ Ø§Ø³Ù… Ù…Ø®ØªÙ„Ù ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ = Ø®Ø·Ø£.

ğŸ”´ Ø£ÙŠÙ† Ø§Ù„ØªØ¹Ø§Ø±Ø¶ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ØŸ
1ï¸âƒ£ Apps Script ÙŠØ³ØªØ®Ø¯Ù… Notes

Ù„ÙƒÙ† Ø§Ù„Ø´ÙŠØª Ø¹Ù†Ø¯Ùƒ Ø§Ø³Ù…Ù‡:

Negative_Notes


âŒ Ø®Ø·Ø£:

const notes = String(r.Notes || '').toLowerCase();


âœ… Ø§Ù„ØµØ­ÙŠØ­:

const notes = String(r.Negative_Notes || '').toLowerCase();

2ï¸âƒ£ Frontend ÙŠØ¨Ø­Ø« Ø¹Ù† Negative_Notes (ÙˆÙ‡Ø°Ø§ ØµØ­ÙŠØ­)

Ù„ÙƒÙ† Apps Script Ø£Ø­ÙŠØ§Ù†Ù‹Ø§ ÙŠØ±Ø¬Ù‘Ø¹:

Notes


â¡ï¸ Ù„Ø§Ø²Ù… Ù†ÙÙˆØ­Ù‘Ø¯ Ø§Ù„Ù…ØµØ¯Ø±:
Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„ÙˆØ­ÙŠØ¯ = Negative_Notes

3ï¸âƒ£ Ø§Ø³Ù… Ø¹Ù…ÙˆØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°

ÙÙŠ Ø§Ù„Ø´ÙŠØª:

Execution_Responsible


Ù„ÙƒÙ† Ø§Ù„ÙƒÙˆØ¯ ÙŠØ³ØªØ®Ø¯Ù…:

Exec_Responsible
Execution_Responsible


âš ï¸ Ø®Ù„ÙŠÙ‡ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·:

Execution_Responsible

4ï¸âƒ£ Ø­Ø§Ù„Ø© Ø§Ù„Ø¥ØºÙ„Ø§Ù‚

ÙÙŠ Ø§Ù„Ø´ÙŠØª:

Closed_YN


Ù„ÙƒÙ† Ø§Ù„ÙƒÙˆØ¯ ÙŠØ³ØªØ®Ø¯Ù…:

Is_Resolved


âŒ Ù‡Ø°Ø§ Ø³Ø¨Ø¨ ÙƒØ¨ÙŠØ± Ù„Ø¹Ø¯Ù… Ø¸Ù‡ÙˆØ± "ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©".

âœ… Ø§Ù„Ø­Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ù…Ø¶Ù…ÙˆÙ† (Ø§Ù†Ø³Ø®Ù‡ ÙƒÙ…Ø§ Ù‡Ùˆ)
âœ¨ Ø¹Ø¯Ù‘Ù„ getViolations() Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚ 100% Ù…Ø¹ Ø§Ù„Ø´ÙŠØª
function getViolations() {
  const roundsLog = sheetToObjects(getSheet('Rounds_Log'));

  const violations = roundsLog.filter(r => {
    const isViolation = String(r.Is_Violation || '').toLowerCase();
    if (isViolation === 'true' || isViolation === 'yes') return true;

    const status = String(r.Status || '').toLowerCase();
    const notes = String(r.Negative_Notes || '').toLowerCase();
    return status.includes('Ø®Ù„Ù„') || notes.includes('Ù†Ù‚Ø§Ø· Ø§Ù„Ø®Ù„Ù„') || notes.includes('âŒ');
  }).map(r => ({
    _rowIndex: r._rowIndex,
    Date: r.Date,
    Actual_Time: r.Actual_Time,
    Area: r.Area,
    Round_Name: r.TaskID,
    Responsible_Role: r.Responsible_Role,
    Execution_Responsible: r.Execution_Responsible,
    Status: r.Status,
    Negative_Notes: r.Negative_Notes,
    Is_Resolved: r.Closed_YN,
  }));

  // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø§Ù„ÙØ§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
  const map = {};
  violations.forEach(v => {
    const key = `${v.Area}||${(v.Negative_Notes || '').substring(0,80)}`;
    if (!map[key]) {
      map[key] = {
        area: v.Area,
        issue: v.Negative_Notes,
        assignedTo: v.Responsible_Role,
        count: 0,
        dates: []
      };
    }
    map[key].count++;
    map[key].dates.push(v.Date);
  });

  const repeated = Object.values(map).filter(x => x.count >= 2);

  return {
    violations,
    repeated,
    resolved: violations.filter(v => String(v.Is_Resolved).toLowerCase() === 'yes')
  };
}

âœ… ØªØ¹Ø¯ÙŠÙ„ ØµØºÙŠØ± ÙÙŠ HTML (Ø¶Ø±ÙˆØ±ÙŠ)

ÙÙŠ renderViolations() Ø£Ù†Øª ØªØ³ØªØ®Ø¯Ù…:

v.Negative_Notes


âœ”ï¸ Ù‡Ø°Ø§ ØµØ­ÙŠØ­ â€” Ù„Ø§ ØªØºÙŠÙ‘Ø±Ù‡.

Ù„ÙƒÙ† ØªØ£ÙƒØ¯ Ø£Ù†:

const notes = (v.Negative_Notes || '').trim();


ÙˆÙ„ÙŠØ³ Notes.