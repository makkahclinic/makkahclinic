<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
ย <meta charset="UTF-8" />
ย <meta name="viewport" content="width=device-width, initial-scale=1.0" />
ย <title>ุจูุงุจุฉ ุณุจุงูู ุงูุฅููุชุฑูููุฉ โ ูุฌูุน ููุฉ ุงูุทุจู ุจุงูุฒุงูุฑ</title>
ย <script src="https://cdn.tailwindcss.com"></script>
ย <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
ย <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
ย <style>
ย ย body { font-family: 'Tajawal', sans-serif; background-color: #f9f9f9; }
ย ย .dark body { background-color: #1a1a1a; color: #eee; }
ย ย .sidebar { width: 270px; background: linear-gradient(180deg, #7B1E24, #C55A44); color: white; }
ย ย .nav-link { display: block; padding: 0.75rem 1rem; border-radius: 0.5rem; transition: all 0.2s; }
ย ย .nav-link:hover { background-color: rgba(255,255,255,0.15); }
ย ย .active-link { background-color: rgba(255,255,255,0.25); }
ย ย .content-section { display: none; }
ย ย .content-section.active { display: block; }
ย ย .org-chart { display: flex; flex-direction: column; align-items: center; }
ย ย .org-level { display: flex; justify-content: center; margin: 20px 0; flex-wrap: wrap; } /* Added flex-wrap */
ย ย .org-node { background: white; border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin: 10px; text-align: center; width: 200px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
ย ย .org-node.director { background: #7B1E24; color: white; }
ย ย .org-node.manager { background: #C55A44; color: white; }
ย ย .org-node.head { background: #e9c46a; }
ย ย .committee-card { background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
ย ย .committee-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
ย ย .committee-code { background: #7B1E24; color: white; padding: 5px 10px; border-radius: 4px; font-weight: bold; }
ย ย .committee-members { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; }
ย ย .member-card { background: #f5f5f5; padding: 10px; border-radius: 5px; }
ย ย .indicator-card { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align: center; }
ย ย .indicator-value { font-size: 2rem; font-weight: bold; margin: 10px 0; }
ย ย .progress-bar { height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden; margin: 10px 0; }
ย ย .progress-fill { height: 100%; background: #7B1E24; }
ย ย .document-card { background: white; border-radius: 8px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    /* Loader for form submission */
    .loader { border: 4px solid #f3f3f3; border-radius: 50%; border-top: 4px solid #7B1E24; width: 20px; height: 20px; animation: spin 1s linear infinite; display: none; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
ย </style>
</head>

<body class="min-h-screen flex flex-col">

ย ย <header class="flex justify-between items-center bg-white shadow-md px-6 py-4 sticky top-0 z-50">
ย ย <div class="flex items-center gap-4">
ย ย ย ย ย ย <div class="flex items-center gap-3">
ย ย ย ย <div class="h-14 w-14 bg-gradient-to-br from-[#7B1E24] to-[#C55A44] rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg">
ย ย ย ย ย <i class="fas fa-hospital-alt"></i>
ย ย ย ย </div>
ย ย ย ย <div>
ย ย ย ย ย <h1 class="text-xl font-bold text-gray-800">ุจูุงุจุฉ ุณุจุงูู ุงูุฅููุชุฑูููุฉ</h1>
ย ย ย ย ย <p class="text-sm text-gray-500">ูุฌูุน ููุฉ ุงูุทุจู ุงูุนุงู ุจุงูุฒุงูุฑ โ ุงูุฅุตุฏุงุฑ 2025</p>
ย ย ย ย </div>
ย ย ย </div>
ย ย </div>
ย ย <div class="flex items-center gap-3">
ย ย ย <button id="darkModeBtn" class="px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition duration-200">
ย ย ย ย <i class="fas fa-moon ml-1"></i>
ย ย ย ย ูุถุน ูููู
ย ย ย </button>
ย ย ย <button onclick="window.print()" class="px-4 py-2 bg-[#7B1E24] text-white rounded-lg hover:bg-[#8f2b33] transition duration-200">
ย ย ย ย <i class="fas fa-print ml-1"></i>
ย ย ย ย ุทุจุงุนุฉ / PDF
ย ย ย </button>
ย ย </div>
ย </header>

ย ย <div class="flex flex-1 overflow-hidden">

ย ย ย ย <aside class="sidebar p-4 text-sm leading-relaxed overflow-y-auto flex-shrink-0">
ย ย ย <div class="font-bold mb-3 text-lg">๐ ุฃูุณุงู ุจูุงุจุฉ ุณุจุงูู</div>
ย ย ย <a href="#home" class="nav-link active-link" onclick="showSection('home')">๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>

ย ย ย <div class="font-bold mt-4 mb-2">๐๏ธ ุงูููุงุฏุฉ ูุงูุญูููุฉ (LD)</div>
ย ย ย <a href="#leadership" class="nav-link" onclick="showSection('leadership')">ุงูุฏููู ุงูุฅุฏุงุฑู ูุงูุชูุธููู</a>
ย ย ย <a href="#organizational-structure" class="nav-link" onclick="showSection('organizational-structure')">ุงููููู ุงูุชูุธููู</a>
ย ย ย <a href="#committees" class="nav-link" onclick="showSection('committees')">ุงููุฌุงู ุงูุฑุณููุฉ</a>
ย ย ย <a href="#key-indicators" class="nav-link" onclick="showSection('key-indicators')">ุงููุคุดุฑุงุช ุงูุฃุณุงุณูุฉ</a>

      <div class="font-bold mt-4 mb-2">๐๏ธ ุงูุณูุงูุฉ ูุงููุฑุงูู (FMS)</div>
      <a href="#fms-workspace" class="nav-link" onclick="showSection('fms-workspace')">ูุณุงุญุฉ ุนูู FMS</a>
      <a href="#dashboard" class="nav-link" onclick="showSection('dashboard')">ููุญุฉ ุงููุคุดุฑุงุช ุงูุนุงูุฉ</a>
      ย ย ย <div class="font-bold mt-4 mb-2">๐ ุงูุฌูุฏุฉ ูุงูุชุญุณูู ุงููุณุชูุฑ (QI)</div>
ย ย ย <a href="#qi" class="nav-link" onclick="showSection('qi')">ูุคุดุฑุงุช ุงูุฌูุฏุฉ</a>

ย ย ย <div class="font-bold mt-4 mb-2">โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ (RM)</div>
ย ย ย <a href="#rm" class="nav-link" onclick="showSection('rm')">ููุงุฐุฌ ูุชุญุงููู ุงููุฎุงุทุฑ</a>

ย ย ย <div class="font-bold mt-4 mb-2">๐งซ ููุงูุญุฉ ุงูุนุฏูู (IPC)</div>
ย ย ย <a href="#ipc" class="nav-link" onclick="showSection('ipc')">ุงูุฎุทุท ูุงูุณูุงุณุงุช</a>

ย ย ย <div class="font-bold mt-4 mb-2">โค๏ธโ๐ฉน ุณูุงูุฉ ุงููุฑุถู (PSC)</div>
ย ย ย <a href="#psc" class="nav-link" onclick="showSection('psc')">ุณูุงุณุงุช ูููุงุฐุฌ ุณูุงูุฉ ุงููุฑุถู</a>

ย ย ย <div class="font-bold mt-4 mb-2">๐จ ุงูุทูุงุฑุฆ ูุงูููุงุฑุซ (EOC)</div>
ย ย ย <a href="#eoc" class="nav-link" onclick="showSection('eoc')">ุงูุฎุทุท ูุงูุฅุฎูุงุก</a>

ย ย ย <div class="font-bold mt-4 mb-2">๐๏ธ ุงูุชูุงุฑูุฑ ูุงูุงุนุชูุงุฏุงุช</div>
ย ย ย <a href="#reports" class="nav-link" onclick="showSection('reports')">ุงูุชูุงุฑูุฑ ุงูุณูููุฉ</a>
ย ย ย <a href="#accreditation" class="nav-link" onclick="showSection('accreditation')">ูููุงุช ุงูุงุนุชูุงุฏ</a>
ย ย </aside>

ย ย ย ย <main class="flex-1 p-6 overflow-y-auto" id="mainContent">
ย ย ยย
ย ย ย ย ย ย <section id="home" class="content-section active">
ย ย ย ย <div class="flex flex-col items-center justify-center h-full mt-10">
ย ย ย ย ย ย ย ย ย ย <div class="h-40 w-40 bg-gradient-to-br from-[#7B1E24] to-[#C55A44] rounded-full flex items-center justify-center text-white text-4xl font-bold mb-6 shadow-xl">
ย ย ย ย ย ย <i class="fas fa-hospital-user"></i>
ย ย ย ย ย </div>
ย ย ย ย ย <h2 class="text-3xl font-bold text-[#7B1E24] mb-3">CBAHI Electronic Portal</h2>
ย ย ย ย ย <p class="text-gray-600 text-lg mb-2">ุจูุงุจุฉ ุณุจุงูู ุงูุฅููุชุฑูููุฉ โ ูุฌูุน ููุฉ ุงูุทุจู ุงูุนุงู ุจุงูุฒุงูุฑ</p>
ย ย ย ย ย <p class="text-sm text-gray-400 mb-8">ุงูุฅุตุฏุงุฑ ุงูุฑุณูู 2025 โ ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
ย ย ย ย ยย
ย ย ย ย ย <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl">
ย ย ย ย ย ย <div class="bg-white p-6 rounded-lg shadow-md border hover:shadow-lg transition duration-300">
ย ย ย ย ย ย ย <i class="fas fa-chart-line text-3xl text-[#7B1E24] mb-3"></i>
ย ย ย ย ย ย ย <h3 class="font-bold text-lg mb-2">ุงููุคุดุฑุงุช ุงูุญูููุฉ</h3>
ย ย ย ย ย ย ย <p class="text-gray-600">ูุชุงุจุนุฉ ูุคุดุฑุงุช ุงูุฃุฏุงุก ูุงูุฌูุฏุฉ</p>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <div class="bg-white p-6 rounded-lg shadow-md border hover:shadow-lg transition duration-300">
ย ย ย ย ย ย ย <i class="fas fa-file-alt text-3xl text-[#7B1E24] mb-3"></i>
ย ย ย ย ย ย ย <h3 class="font-bold text-lg mb-2">ุงููุซุงุฆู ูุงูุณูุงุณุงุช</h3>
ย ย ย ย ย ย ย <p class="text-gray-600">ุฌููุน ูุซุงุฆู ุงูุนูู ุงููุนุชูุฏุฉ</p>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <div class="bg-white p-6 rounded-lg shadow-md border hover:shadow-lg transition duration-300">
ย ย ย ย ย ย ย <i class="fas fa-chart-bar text-3xl text-[#7B1E24] mb-3"></i>
ย ย ย ย ย ย ย <h3 class="font-bold text-lg mb-2">ุงูุชูุงุฑูุฑ ุงูุฅุฏุงุฑูุฉ</h3>
ย ย ย ย ย ย ย <p class="text-gray-600">ุชูุงุฑูุฑ ุงูุฃุฏุงุก ูุงูุงุญุตุงุฆูุงุช</p>
ย ย ย ย ย ย </div>
ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย ย </section>

        <section id="fms-workspace" class="content-section">
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-2xl font-bold text-[#7B1E24]">๐๏ธ ูุณุงุญุฉ ุนูู FMS (ูุชุทูุจุงุช ุณุจุงูู)</h2>
                    <div class="flex gap-2">
                        <button onclick="window.print()" class="px-3 py-2 text-sm bg-[#7B1E24] text-white rounded-lg hover:bg-[#8f2b33]">
                            ๐จ๏ธ ุทุจุงุนุฉ ูุฐู ุงูุตูุญุฉ
                        </button>
                    </div>
                </div>

                <div class="border-b border-gray-200 mb-4 flex flex-wrap gap-2">
                    <button class="px-3 py-2 text-sm rounded" data-fms-tab="rounds" onclick="switchFmsTab('rounds')">๐ ุชุณุฌูู ุฌููุฉ ุณูุงูุฉ</button>
                    <button class="px-3 py-2 text-sm rounded" data-fms-tab="needs" onclick="switchFmsTab('needs')">โ ุจุงูู ุงูุงุญุชูุงุฌุงุช</button>
                    <button class="px-3 py-2 text-sm rounded" data-fms-tab="plans" onclick="switchFmsTab('plans')">๐ ุงูุฎุทุท ุงูุซูุงููุฉ</button>
                    <button class="px-3 py-2 text-sm rounded" data-fms-tab="governance" onclick="switchFmsTab('governance')">๐๏ธ ุงูุญูููุฉ ูุงูุณูุงุณุงุช</button>
                    <button class="px-3 py-2 text-sm rounded" data-fms-tab="forms" onclick="switchFmsTab('forms')">๐๏ธ ุงูููุงุฐุฌ ูุงูุณุฌูุงุช</button>
                    <button class="px-3 py-2 text-sm rounded" data-fms-tab="kpis" onclick="switchFmsTab('kpis')">๐ ูุคุดุฑุงุช FMS</button>
                </div>

                <div id="fmsTabContent" class="space-y-4">
                    </div>
            </div>
        </section>

ย ย ย ย ย ย <section id="leadership" class="content-section">
ย ย ย ย <div class="bg-white rounded-lg shadow-md p-6 mb-6">
ย ย ย ย ย <div class="flex justify-between items-center mb-4">
ย ย ย ย ย ย <h2 class="text-2xl font-bold text-[#7B1E24]">๐๏ธ ุงูุฏููู ุงูุฅุฏุงุฑู ูุงูุชูุธููู ุงููุฎุชุตุฑ</h2>
ย ย ย ย ย ย <span class="bg-[#7B1E24] text-white px-3 py-1 rounded text-sm">ุงูุฅุตุฏุงุฑ 2025</span>
ย ย ย ย ย </div>
ย ย ย ย ยย
ย ย ย ย ย <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
ย ย ย ย ย ย <p class="text-blue-800 font-medium">ูุนุชูุฏ ูุฐุง ุงูุฏููู ูู ูุจู ุงููุฏูุฑ ุงูุนุงู / ุงููุงูู:</p>
ย ย ย ย ย ย <p class="text-blue-800 text-lg font-bold mt-2">ุฏ. ุญุณูู ุจู ูุญูุฏ ุญุณู ุดูุฎ ุจุงุจุตูู</p>
ย ย ย ย ย ย <p class="text-blue-700 text-sm mt-2">ุนูู ุฃู ููุฑุงุฌุน ุณููููุง ุฃู ุนูุฏ ุฃู ุชุนุฏูู ุชูุธููู.</p>
ย ย ย ย ย </div>
ย ย ย ย ยย
ย ย ย ย ย <h3 class="text-xl font-bold text-[#7B1E24] mb-4">ุงูููุงุฏุฉ ุงูุนููุง</h3>
ย ย ย ย ยย
ย ย ย ย ย <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
ย ย ย ย ย ย <div class="bg-red-50 border border-red-200 rounded-lg p-4">
ย ย ย ย ย ย ย <h4 class="font-bold text-lg text-[#7B1E24] mb-2">ุงููุฏูุฑ ุงูุนุงู / ุงููุงูู</h4>
ย ย ย ย ย ย ย <p class="font-medium">ุฏ. ุญุณูู ุจู ูุญูุฏ ุญุณู ุดูุฎ ุจุงุจุตูู</p>
ย ย ย ย ย ย ย <p class="text-sm text-gray-600 mt-2">ุงูุฅุดุฑุงู ุงูุนุงู ุนูู ุงููุฌูุน ูุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ</p>
ย ย ย ย ย ย </div>
ย ย ย ย ย </div>
ย ย ย ย ยย
ย ย ย ย ย <h3 class="text-xl font-bold text-[#7B1E24] mt-6 mb-4">ุงูุฅุฏุงุฑุงุช ุงูุชูููุฐูุฉ</h3>
ย ย ย ย ย <p class="text-gray-600 mb-4">(ูุฑุชุจุฉ ุญุณุจ ุงูุนุฑุถ ุงููุนุชูุฏ)</p>
ย ย ย ย ยย
ย ย ย ย ย <div class="overflow-x-auto">
ย ย ย ย ย ย <table class="min-w-full bg-white border border-gray-200">
ย ย ย ย ย ย ย <thead class="bg-[#7B1E24] text-white">
ย ย ย ย ย ย ย ย <tr>
ย ย ย ย ย ย ย ย ย <th class="py-3 px-4 text-right">ุงููุณู</th>
ย ย ย ย ย ย ย ย ย <th class="py-3 px-4 text-right">ุงููุฏูุฑ</th>
ย ย ย ย ย ย ย ย ย <th class="py-3 px-4 text-right">ุงูููุงู ุงูุฃุณุงุณูุฉ</th>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย </thead>
ย ย ย ย ย ย ย <tbody>
ย ย ย ย ย ย ย ย <tr class="border-b border-gray-200 hover:bg-gray-50">
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4 font-medium">ุงูุฅุฏุงุฑุฉ ุงูุฅุฏุงุฑูุฉ</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุฃ. ุจูุงู ูุชู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุงูุชุดุบูู ุงูููููุ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉุ ุงูุชุฏุฑูุจุ ุงูุงุณุชูุจุงู ูุงูููุงุนูุฏ</td>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย ย <tr class="border-b border-gray-200 hover:bg-gray-50">
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4 font-medium">ุงูุฅุฏุงุฑุฉ ุงูุทุจูุฉ</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุฏ. ูุนุงุฐ ุงูุจููุด (ูุงุฆุจ: ุฏ. ุฎุงูุฏ ุงูุฎุทูุจ)</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุงูุฅุดุฑุงู ุนูู ุงูุนูุงุฏุงุช ูุงูุฎุฏูุงุช ุงูุณุฑูุฑูุฉ ูุฌูุฏุชูุง</td>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย ย <tr class="border-b border-gray-200 hover:bg-gray-50">
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4 font-medium">ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ ูุงูุชุฃููู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุฃ. ุตุงุจุฑ ุนุจุฏู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุงูุญุณุงุจุงุชุ ุงููุทุงูุจุงุชุ ุฅุฏุงุฑุฉ ุฏูุฑุฉ ุงูุฅูุฑุงุฏุ ุงูุชูุงุฑูุฑ ุงููุงููุฉ</td>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย ย <tr class="border-b border-gray-200 hover:bg-gray-50">
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4 font-medium">ุงูุตูุงูุฉ ูุงููุฑุงูู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุฃ. ุนุฏูุงู ุงูุฑูุงุนู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุงูุตูุงูุฉ ุงูููุงุฆูุฉุ ุงูุณูุงูุฉ ุงููุฑุงูููุฉุ ุงูุทูุงุฑุฆุ ุงููุดุชุฑูุงุช ุบูุฑ ุงูุทุจูุฉุ ุงููุธุงูุฉ</td>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย ย <tr class="border-b border-gray-200 hover:bg-gray-50">
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4 font-medium">ุงูุตูุฏููุฉ</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุฃ. ุนุจุฏุงููู ุญููุฏู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุงูุตุฑู ุงูุฏูุงุฆู ุงูุขููุ ุถุจุท ุงูุฃุฏููุฉ ุนุงููุฉ ุงูุฎุทูุฑุฉุ ุณูุณูุฉ ุงูุชุจุฑูุฏุ ุงููุฎุฒูู</td>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย ย <tr class="border-b border-gray-200 hover:bg-gray-50">
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4 font-medium">ุงููุฎุชุจุฑ</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุฃ. ููุซู ุงูุฌุนูู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุถุจุท ุงูุฌูุฏุฉ ุงููุฎุจุฑูุฉุ ุณูุงูุฉ ุงูุนููุงุชุ ุงูุณูุงูุฉ ุงูุญูููุฉ</td>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย ย <tr class="border-b border-gray-200 hover:bg-gray-50">
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4 font-medium">ุงูุฃุดุนุฉ</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุฃ. ุจูุงู ูุชู</td>
ย ย ย ย ย ย ย ย ย <td class="py-3 px-4">ุงูุฅุดุฑุงู ุงูููู ูุงูุฅุดุนุงุนู ููู ูุชุทูุจุงุช NRRC</td>
ย ย ย ย ย ย ย ย </tr>
ย ย ย ย ย ย ย </tbody>
ย ย ย ย ย ย </table>
ย ย ย ย ย </div>

ย ย ย ย ย ย ย ย ย ย <div class="documents-section mt-8">
ย ย ย ย ย ย <h3 class="text-xl font-bold text-[#7B1E24] mb-4">๐ ุงููุซุงุฆู ุงููุนุชูุฏุฉ</h3>
ย ย ย ย ย ยย
ย ย ย ย ย ย <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
ย ย ย ย ย ย ย <div class="document-card">
ย ย ย ย ย ย ย ย <div class="flex items-center gap-3">
ย ย ย ย ย ย ย ย ย <i class="fas fa-file-pdf text-2xl text-red-500"></i>
ย ย ย ย ย ย ย ย ย <div>
ย ย ย ย ย ย ย ย ย ย <h4 class="font-bold">ุงูุฏููู ุงูุฅุฏุงุฑู ูุงูุชูุธููู ูุงูุชุดุบููู</h4>
ย ย ย ย ย ย ย ย ย ย <p class="text-sm text-gray-600">ุงููุซููุฉ ุงูุฑุฆูุณูุฉ ูููุฌูุน</p>
ย ย ย ย ย ย ย ย ย ย <p class="text-sm text-gray-500">ูุนุชูุฏ ุจุชุงุฑูุฎ: 2025</p>
ย ย ย ย ย ย ย ย ย ย <p class="text-xs text-green-600">โ๏ธ ูุนุชูุฏ ูู ุงููุฏูุฑ ุงูุนุงู</p>
ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="mt-3 flex gap-2">
ย ย ย ย ย ย ย ย ย <button onclick="showDocument('ุงูุฏููู ุงูุฅุฏุงุฑู')" class="px-3 py-1 bg-[#7B1E24] text-white text-sm rounded hover:bg-[#8f2b33]">
ย ย ย ย ย ย ย ย ย ย ๐ ุนุฑุถ ุงููุซููุฉ
ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย ย <button class="px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300">
ย ย ย ย ย ย ย ย ย ย โฌ๏ธ ุชุญููู PDF
ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย ย </section>

ย ย ย ย ย ย <section id="organizational-structure" class="content-section">
ย ย ย ย <div class="bg-white rounded-lg shadow-md p-6 mb-6">
ย ย ย ย ย <h2 class="text-2xl font-bold text-[#7B1E24] mb-6">๐ข ุงููููู ุงูุชูุธููู</h2>
ย ย ย ย ยย
ย ย ย ย ย <div class="org-chart">
ย ย ย ย ย ย ย ย ย ย ย ย <div class="org-level">
ย ย ย ย ย ย ย <div class="org-node director">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงููุฏูุฑ ุงูุนุงู / ุงููุงูู</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฏ. ุญุณูู ุจู ูุญูุฏ ุญุณู ุดูุฎ ุจุงุจุตูู</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย <div class="h-8 w-1 bg-gray-400"></div>
ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย <div class="org-level">
ย ย ย ย ย ย ย <div class="org-node manager">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงูุฅุฏุงุฑุฉ ุงูุฅุฏุงุฑูุฉ</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฃ. ุจูุงู ูุชู</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย <div class="org-node manager">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงูุฅุฏุงุฑุฉ ุงูุทุจูุฉ</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฏ. ูุนุงุฐ ุงูุจููุด</p>
ย ย ย ย ย ย ย ย <p class="text-sm">(ูุงุฆุจ: ุฏ. ุฎุงูุฏ ุงูุฎุทูุจ)</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย <div class="org-node manager">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฃ. ุตุงุจุฑ ุนุจุฏู</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย <div class="h-8 w-1 bg-gray-400"></div>
ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย <div class="org-level">
ย ย ย ย ย ย ย <div class="org-node head">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงูุตูุงูุฉ ูุงููุฑุงูู</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฃ. ุนุฏูุงู ุงูุฑูุงุนู</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย <div class="org-node head">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงูุตูุฏููุฉ</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฃ. ุนุจุฏุงููู ุญููุฏู</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย <div class="org-node head">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงููุฎุชุจุฑ</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฃ. ููุซู ุงูุฌุนูู</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย <div class="org-node head">
ย ย ย ย ย ย ย ย <h3 class="font-bold">ุงูุฃุดุนุฉ</h3>
ย ย ย ย ย ย ย ย <p class="mt-1">ุฃ. ุจูุงู ูุชู</p>
ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย ย </section>

ย ย ย ย ย ย <section id="committees" class="content-section">
ย ย ย ย <div class="bg-white rounded-lg shadow-md p-6 mb-6">
ย ย ย ย ย <h2 class="text-2xl font-bold text-[#7B1E24] mb-6">๐ฅ ุงููุฌุงู ุงูุฑุณููุฉ (ุญุณุจ ุณุจุงูู)</h2>
ย ย ย ย ยย
            ย ย ย ย </div>
ย ย ย </section>

ย ย ย ย ย ย <section id="key-indicators" class="content-section">
        ย ย ย </section>

ย ย ย ย ย ย <section id="dashboard" class="content-section">
ย ย ย ย <h2 class="text-2xl font-bold mb-6 text-[#7B1E24]">๐ ููุญุฉ ูุคุดุฑุงุช ุงูุณูุงูุฉ ูุงููุฑุงูู (ุงูุนุงูุฉ)</h2>
ย ย ย ย ย ย ย </section>

ย ย ย ย ย </main>
ย </div>

    <div id="fmsModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white w-full max-w-5xl rounded-lg shadow-xl overflow-hidden">
            <div class="flex items-center justify-between px-4 py-3 border-b bg-gray-50">
                <h3 id="fmsModalTitle" class="font-bold text-lg text-[#7B1E24]">ุนุฑุถ ุงููุซููุฉ</h3>
                <button onclick="closeFmsModal()" class="text-gray-600 hover:text-gray-900 text-2xl">โ</button>
            </div>
            <div class="p-0">
                <iframe id="fmsModalFrame" class="w-full h-[75vh]" src="about:blank" frameborder="0"></iframe>
            </div>
            <div class="flex items-center justify-between px-4 py-3 border-t bg-gray-50">
                <a id="fmsModalOpenNew" href="#" target="_blank" class="text-[#7B1E24] underline hover:text-[#C55A44]">ูุชุญ ูู ุชุจููุจ ุฌุฏูุฏ (Google Drive)</a>
                <button onclick="closeFmsModal()" class="px-3 py-2 bg-gray-200 rounded hover:bg-gray-300">ุฅุบูุงู</button>
            </div>
        </div>
    </div>

ย ย <footer class="bg-[#7B1E24] text-white text-center py-3 text-sm mt-auto">
ย ย ยฉ 2025 ูุฌูุน ููุฉ ุงูุทุจู ุงูุนุงู ุจุงูุฒุงูุฑ โ ุจูุงุจุฉ ุณุจุงูู ุงูุฅููุชุฑูููุฉ
ย </footer>

ย ย <script>
ย ย // ุชุจุฏูู ุงููุถุน ุงููููู
ย ย document.getElementById('darkModeBtn').addEventListener('click', () => {
ย ย ย document.documentElement.classList.toggle('dark');
ย ย });

ย ย // ุฅุฏุงุฑุฉ ุนุฑุถ ุงูุฃูุณุงู (Navigation)
ย ย function showSection(sectionId) {
ย ย ย // ุฅุฎูุงุก ุฌููุน ุงูุฃูุณุงู
ย ย ย document.querySelectorAll('.content-section').forEach(section => {
ย ย ย ย section.classList.remove('active');
ย ย ย });
ย ย ยย
ย ย ย // ุฅุธูุงุฑ ุงููุณู ุงููุทููุจ
ย ย ย const targetSection = document.getElementById(sectionId);
        if (targetSection) {
            targetSection.classList.add('active');
        }
ย ย ยย
ย ย ย // ุชุญุฏูุซ ุงูุฑูุงุจุท ุงููุดุทุฉ ูู ุงูุดุฑูุท ุงูุฌุงูุจู
ย ย ย document.querySelectorAll('.nav-link').forEach(link => {
ย ย ย ย link.classList.remove('active-link');
ย ย ย });
        
        // ุงูุนุซูุฑ ุนูู ุงูุฑุงุจุท ุงููุทุงุจู ูู sectionId ูุชูุนููู
        const activeLink = document.querySelector(`.nav-link[href="#${sectionId}"]`);
        if (activeLink) {
            activeLink.classList.add('active-link');
        }

        // ุชููุฆุฉ ูุณุงุญุฉ ุนูู FMS ุนูุฏ ูุชุญูุง ูุฃูู ูุฑุฉ
        if (sectionId === 'fms-workspace' && document.getElementById('fmsTabContent').innerHTML.trim() === '') {
            switchFmsTab('rounds'); // ุงูุจุฏุก ุจุชุจููุจ ุฌููุงุช ุงูุณูุงูุฉ
        }
ย ย }

ย ย // ุฏูุงู ูุณุงุนุฏุฉ (Placeholders)
ย ย function showCommitteeDetails(committeeCode) {
ย ย ย alert(`ุณูุชู ูุชุญ ุตูุญุฉ ุชูุตูููุฉ ููุฌูุฉ ${committeeCode} ูู ุงูุชุญุฏูุซุงุช ุงููุงุฏูุฉ`);
ย ย }

ย ย function showDocument(docName) {
ย ย ย alert(`ุณูุชู ูุชุญ ูุซููุฉ ${docName} ูู ุงูุชุญุฏูุซุงุช ุงููุงุฏูุฉ`);
ย ย }
ย </script>

  <script>
// ===== ุฅุนุฏุงุฏุงุช ุนุงูุฉ ููุณุงุญุฉ FMS =====

// !!! ูุงู ุฌุฏุงู: ุงุณุชุจุฏู ูุฐุง ุงูุฑุงุจุท ุจุฑุงุจุท Web App ุงูุฐู ูุณุฎุชู ูู Google Apps Script (ููุชูู ุจู /exec) !!!
const FMS_API_URL = 'YOUR_GOOGLE_SCRIPT_WEB_APP_URL_HERE'; 

// ูุงุฆูุฉ ุงููุฑุงูุจูู (ูููู ุชุนุฏูููุง ุญุณุจ ุงูุญุงุฌุฉ)
const OBSERVERS_LIST = [
    "ุฃ. ุนุฏูุงู ุงูุฑูุงุนู (ุงูุตูุงูุฉ ูุงููุฑุงูู)",
    "ุฃ. ุจูุงู ูุชู (ุงูุฅุฏุงุฑุฉ ุงูุฅุฏุงุฑูุฉ)",
    "ุฏ. ูุนุงุฐ ุงูุจููุด (ุงูุฅุฏุงุฑุฉ ุงูุทุจูุฉ)",
    "ุฏ. ุฎุงูุฏ ุงูุฎุทูุจ (ูุงุฆุจ ุงูุฅุฏุงุฑุฉ ุงูุทุจูุฉ)",
    "ุฃ. ุตุงุจุฑ ุนุจุฏู (ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ)",
    "ูุณุคูู ุงูุณูุงูุฉ ุงูููุงูุจ"
];

// ุฎุฑุงุฆุท ุงููุซุงุฆู (ุชู ุชุญุฏูุซูุง ุจุงูุฑูุงุจุท ุงูููุฏูุฉ)
const FMS_PLANS = [
    {code:'FMS-P01', name:'ุฎุทุฉ ุณูุงูุฉ ุงููุจูู', url:'https://drive.google.com/open?id=1AGGLtgZxTi8ayyax2_GNMxYRGzVptIIQn6wL8d1YDxI'},
    {code:'FMS-P02', name:'ุฎุทุฉ ุงูุฃูู', url:'https://drive.google.com/open?id=1F2yADLhaH1bXivI3POD-O4g-ie7eNSxxDfeTD8fodLQ'},
    {code:'FMS-P03', name:'ุฎุทุฉ ุงูููุงุฏ ุงูุฎุทุฑุฉ ูุงูููุงูุงุช', url:'https://drive.google.com/open?id=1xHgATBGqHfIDD1AOu72GV9VEHykuCTLTFAiA87E6n24'},
    {code:'FMS-P04', name:'ุฎุทุฉ ุงูุทูุงุฑุฆ ุงูุฏุงุฎููุฉ', url:'https://drive.google.com/open?id=1VhDjLfJ87EgdPFmRQv8-iUQo9RrKopXN7R9OR05rCh4'},
    {code:'FMS-P05', name:'ุฎุทุฉ ุงูุทูุงุฑุฆ ุงูุฎุงุฑุฌูุฉ', url:'https://drive.google.com/open?id=1P_anLCQ5DL16cDVbB9TN2ixmAjhzJAvuiOn0uZNXZ3s'},
    {code:'FMS-P06', name:'ุจุฑูุงูุฌ/ุฎุทุฉ ุงูุณูุงูุฉ ูู ุงูุญุฑุงุฆู', url:'https://drive.google.com/open?id=1jtjdCFWQZHkb5_GvYQLBnEukgQd372DafsttNgoPL1U'},
    {code:'FMS-P07', name:'ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุงูุฃุฌูุฒุฉ ุงูุทุจูุฉ', url:'https://drive.google.com/open?id=1HLlqjcoTy8m430Ylv_OfdNjka-vBKmGSuj6riYXHrJE'},
    {code:'FMS-P08', name:'ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุฃูุธูุฉ ุงููุฑุงูู (Utilities)', url:'https://drive.google.com/open?id=14rRrTw26-bmvoq7C2MnDJl726shxyMiB-dfx_0ivFoA'},
];

const FMS_GOV = [
    {code:'FMS-G01', name:'ููุซุงู ูุฌูุฉ ุงูุณูุงูุฉ ูุฅุฏุงุฑุฉ ุงููุฑุงูู (Charter)', url:'https://drive.google.com/open?id=1KIROSbJQD2JJeAQ26GgYiad1F6-WKh_VdyJrYJa-4ps'},
    {code:'FMS-G02', name:'ุงููุตู ุงููุธููู ููุฏูุฑ ุจุฑูุงูุฌ FMS', url:'https://drive.google.com/open?id=122BI7pf6KyaxjkL-8a0JV6l-GXrIrELPR68kCfU6TvY'},
    {code:'FMS-G03', name:'ุณูุงุณุฉ ุงูุฌููุงุช ุงูููุฏุงููุฉ ูุณุฌู ุงูุฌููุงุช', url:'https://drive.google.com/open?id=18T5VVTTNWFlMQW1in4-ISICWeuDVadnKwFQ-w0CeKB0'},
    {code:'FMS-G04', name:'ุณูุงุณุฉ ุงูุตูุงูุฉ ุงูููุงุฆูุฉ (PPM) ูุงูุฎุทุฉ ุงูุณูููุฉ', url:'https://drive.google.com/open?id=1rcVBagz1pBNy6j5kZAMeufBfr0Oi3yXO-V3XWzS6i4E'},
    {code:'FMS-G05', name:'ุณูุงุณุฉ ุงูุงูุชุซุงู ููููุงููู ูุงูุฃูุธูุฉ', url:'https://drive.google.com/open?id=1drrRo-0uLYRaHb_wbYt47KrXMx8im0SYSq9zY2DoT7k'},
    {code:'FMS-G06', name:'ุณูุงูุฉ ุฃุนูุงู ุงูุจูุงุก/ุงูุชุฌุฏูุฏ/ุงููุฏู', url:'https://drive.google.com/open?id=1wlJTSLZG1D0r8vFbOhIntv6CCETiGYumEnUwwY_mXDw'},
    {code:'FMS-G07', name:'ุณูุงุณุฉ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ (HVA/FMEA) ูุณูุงูุฉ ุงููุฑุงูู', url:'https://drive.google.com/open?id=196HNzcBQ7UdQebXqn0GNkeo76qOv2U2a63oPFDCFRBU'},
    {code:'FMS-G08', name:'ุฎุทุฉ ุงูุชุฏุฑูุจ ูุงูุชูุนูุฉ ูุงูุชูุฌูู (ููุธููู ุฌุฏุฏ)', url:'https://drive.google.com/open?id=1HHtEAcfxdjux--qf_XCmh4-BnaGDvHcmi9wJoyD-tOQ'},
    {code:'FMS-G09', name:'ุณูุงุณุฉ ุงูุงุฎุชุจุงุฑุงุช ูุงูุชูุงุฑูู ููุฅุฎูุงุก ูุงูุทูุงุฑุฆ', url:'https://drive.google.com/open?id=12q5YPfENXweWV2baN0j_Hji13ZBfm2YQLNHniZ8OHf8'},
    {code:'FMS-G10', name:'ุณูุงุณุฉ ุงูุชุญูู ุจุงูุฏุฎูู ูุฅุฏุงุฑุฉ ุงูููุงุชูุญ', url:'https://drive.google.com/open?id=1Qx-QjXCNnDfG5OysZbcPWot_PI4prNOxzTsN4k3Ghjs'},
    {code:'FMS-G11', name:'ุณูุงุณุฉ ุฅุฏุงุฑุฉ ุงูุบุงุฒุงุช ุงูุทุจูุฉ (ุฅู ูุฌุฏุช)', url:'https://drive.google.com/open?id=1EIIWFjHAL9ND1NfErzM0SlZYCkwGT-k5di_z5S7H9Rs'},
];

const FMS_FORMS = [
    {code:'F-01', name:'ูููุฐุฌ ุฌููุฉ ุณูุงูุฉ ุงููุฑูู', url:'about:blank'}, // ุงูุฑุงุจุท ุบูุฑ ูุชููุฑ
    {code:'F-02', name:'ุณุฌู ุงุฎุชุจุงุฑ ุฃูุธูุฉ ุงูุฅูุฐุงุฑ ูู ุงูุญุฑูู', url:'https://drive.google.com/open?id=1iDZaOKZvI4Qz9bdIwyx2XWtKvb4hagGqKmcdmyNoSAQ'},
    {code:'F-03', name:'ุณุฌู ุตูุงูุฉ ูุนุฏุงุช ุงูุฅุทูุงุก', url:'https://drive.google.com/open?id=1wk9m2MBx6yxHu-lSRqD116pxPP2fNspO5IOMS1fUt_8'},
    {code:'F-04', name:'ุชูุฑูุฑ ุชูุฑูู ุงูุฅุฎูุงุก ููุง ุจุนุฏ ุงูุชูุฑูู', url:'https://drive.google.com/open?id=1B_wWO7uTKkVlEc6NEFYo2xAMWoHi2lxIah6tOml6AAw'},
    {code:'F-05', name:'ุณุฌู ุตูุงูุฉ ุงูุฃุฌูุฒุฉ ุงูุทุจูุฉ', url:'https://drive.google.com/open?id=1CD_TRRgsRiBchZ9Kz8xjZ6MnYA9ceuqSKPPd8-QVbXA'},
    {code:'F-06', name:'ุณุฌู ุงูุบุงุฒุงุช ุงูุทุจูุฉ ูุถูุงุจุทูุง', url:'about:blank'}, // ุงูุฑุงุจุท ุบูุฑ ูุชููุฑ
    {code:'F-07', name:'ุณุฌู ุชุฑุงุฎูุต ุงูุฏูุงุน ุงููุฏูู ูุงูุชูุงุฑูุฑ', url:'https://drive.google.com/open?id=1b8jzQnfZovRYgxysKMttoKfxcWxIGAP0eXBDq8PYsVc'},
    {code:'F-08', name:'ูุงุฆูุฉ ุชุญูู ุงูุณูุงูุฉ ุงูููููุฉ ููุชุญ ุงูุนูุงุฏุงุช', url:'https://drive.google.com/open?id=1rMND6uEum9Rn3G9sAg01KRwcrcxzdo-MdddSMmRHNtw'},
    {code:'F-09', name:'ุณุฌู ุงูุชุฎูุต ูู ุงูููุงูุงุช ุงูุทุจูุฉ ูุงูุฎุทุฑุฉ', url:'about:blank'}, // ุงูุฑุงุจุท ุบูุฑ ูุชููุฑ
    {code:'F-10', name:'ุณุฌู ุงุฎุชุจุงุฑ ุฅูุงุฑุฉ ุงูุทูุงุฑุฆ ููุฎุงุฑุฌ ุงูุฎุฑูุฌ', url:'https://drive.google.com/open?id=1gk1SaB6Id0w7xOggJW4FNFEQGPUMMCKjwo1qH1p87XE'},
    {code:'F-11', name:'ูุงุฆูุฉ ุงูุญุฏ ุงูุฃุฏูู ููุณุงุฆู ุงูุณูุงูุฉ ุจูู ุบุฑูุฉ/ุนูุงุฏุฉ', url:'https://drive.google.com/open?id=1aY5Px_nLZVTmckb8tBOlEXGB-Mhe53LhrigXRrE2gaw'},
];

// ูุงุฆูุฉ ยซุจุงูู ุงูุงุญุชูุงุฌุงุชยป (ููุง ูุงูุช ุณุงุจูุงู)
const FMS_NEEDS = [
    {key:'charter', label:'ููุซุงู ูุฌูุฉ ุงูุณูุงูุฉ ูุฅุฏุงุฑุฉ ุงููุฑุงูู (G01) ูุนุชูุฏ', required:true},
    {key:'plans8', label:'ุงุนุชูุงุฏ ูุชููุฑ ุงูุฎุทุท ุงูุซูุงููุฉ (P01โP08)', required:true},
    {key:'ppmpolicy', label:'ุณูุงุณุฉ PPM + ุฎุทุฉ ุณูููุฉ ููููุนุฉ (G04)', required:true},
    {key:'tours', label:'ุฌููุงุช ุณูุงูุฉ ุฑุจุน ุณูููุฉ + ุณุฌูุงุช F-01', required:true},
    {key:'civildef', label:'ุชุฑุฎูุต ุงูุฏูุงุน ุงููุฏูู ุณุงุฑู + ุณุฌู F-07', required:true},
    {key:'fire', label:'ุณุฌูุงุช ุฅูุฐุงุฑ/ุฅุทูุงุก/ุฅูุงุฑุฉ ุทูุงุฑุฆ (F-02/F-03/F-10)', required:true},
    {key:'waste', label:'ุณุฌู ุงูุชุฎูุต ูู ุงูููุงูุงุช ุงูุทุจูุฉ/ุงูุฎุทุฑุฉ (F-09)', required:true},
    {key:'medgas', label:'ุณูุงุณุฉ/ุณุฌู ุงูุบุงุฒุงุช ุงูุทุจูุฉ (ุฅู ูุฌุฏุช) (G11/F-06)', required:false},
    {key:'training', label:'ุชุนุฑูู ุงูููุธููู ุงูุฌุฏุฏ + ุฎุทุฉ ุชุฏุฑูุจ/ุชูุงุฑูู (G08/G09)', required:true},
    {key:'risk', label:'HVA ุณูููุฉ + FMEA ููุนูููุงุช ุงูุญุฑุฌุฉ (G07)', required:true},
    {key:'compliance', label:'ุณูุงุณุฉ ุงูุงูุชุซุงู ููููุงููู ูุงูุฃูุธูุฉ (G05)', required:true},
];

// =========== ุชุจููุจุงุช FMS ===========
function switchFmsTab(tab) {
    document.querySelectorAll('[data-fms-tab]').forEach(btn=>{
        // ุฅุนุงุฏุฉ ุงูููู ุงูุงูุชุฑุงุถู ุซู ุชูุนูู ุงูุญุงูู
        if (btn.getAttribute('data-fms-tab') === tab) {
            btn.classList.add('bg-[#7B1E24]', 'text-white');
            btn.classList.remove('bg-gray-100', 'hover:bg-gray-200');
        } else {
            btn.classList.remove('bg-[#7B1E24]', 'text-white');
            btn.classList.add('bg-gray-100', 'hover:bg-gray-200');
        }
    });

    const container = document.getElementById('fmsTabContent');
    container.innerHTML = ''; // ุชูุฑูุบ ุงููุญุชูู ุงูุญุงูู
    
    // ุนุฑุถ ุงููุญุชูู ุงููุทููุจ
    if (tab === 'rounds') renderRoundsForm(container);
    if (tab === 'needs') renderNeeds(container);
    if (tab === 'plans') renderList(container, FMS_PLANS, 'ุฎุทุฉ/ุจุฑูุงูุฌ');
    if (tab === 'governance') renderList(container, FMS_GOV, 'ุณูุงุณุฉ/ุญูููุฉ');
    if (tab === 'forms') renderList(container, FMS_FORMS, 'ูููุฐุฌ/ุณุฌู');
    if (tab === 'kpis') renderKpis(container);
}

// === ูุธููุฉ ุนุฑุถ ูููุฐุฌ ุฌููุงุช ุงูุณูุงูุฉ (ุฌุฏูุฏ) ===
function renderRoundsForm(container) {
    const form = document.createElement('form');
    form.id = 'roundsForm';
    form.className = 'space-y-4 p-6 border rounded-lg bg-gray-50 shadow-sm max-w-3xl';
    form.onsubmit = submitRound;

    let observerOptions = OBSERVERS_LIST.map(name => `<option value="${name}">${name}</option>`).join('');

    form.innerHTML = `
        <h3 class="text-xl font-bold text-[#7B1E24] mb-4">ุชุณุฌูู ููุงุญุธุฉ ุฌููุฉ ุณูุงูุฉ ุฌุฏูุฏุฉ</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
                <label for="inspector" class="block text-sm font-medium text-gray-700">ุงุณู ุงููุฑุงูุจ</label>
                <select id="inspector" name="inspector" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[#7B1E24] focus:border-[#7B1E24] sm:text-sm">
                    <option value="">ุงุฎุชุฑ ุงููุฑุงูุจ...</option>
                    ${observerOptions}
                </select>
            </div>
            <div>
                <label for="location" class="block text-sm font-medium text-gray-700">ุงููููุน/ุงููุณู</label>
                <input type="text" id="location" name="location" required placeholder="ูุซุงู: ุนูุงุฏุฉ 5ุ ุงููุฏุฎู ุงูุฑุฆูุณู" class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#7B1E24] focus:border-[#7B1E24] sm:text-sm">
            </div>
            <div>
                <label for="priority" class="block text-sm font-medium text-gray-700">ุฃููููุฉ ุงูุตูุงูุฉ/ุงูุฅุฌุฑุงุก</label>
                <select id="priority" name="priority" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-[#7B1E24] focus:border-[#7B1E24] sm:text-sm">
                    <option value="ุนุงููุฉ (High)">๐ด ุนุงููุฉ (ุฅุฌุฑุงุก ููุฑู)</option>
                    <option value="ูุชูุณุทุฉ (Medium)" selected>๐ก ูุชูุณุทุฉ (ุฎูุงู ุฃุณุจูุน)</option>
                    <option value="ููุฎูุถุฉ (Low)">๐ข ููุฎูุถุฉ (ูุฌุฏูู)</option>
                </select>
            </div>
        </div>
        <div>
            <label for="observation" class="block text-sm font-medium text-gray-700">ุงูููุงุญุธุฉ ูุงูุชูุตูุฉ</label>
            <textarea id="observation" name="observation" rows="4" required class="mt-1 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#7B1E24] focus:border-[#7B1E24] sm:text-sm" placeholder="ุงุฐูุฑ ุงูููุงุญุธุฉ ุจุงูุชูุตูู ูุงูุฅุฌุฑุงุก ุงูููุชุฑุญ..."></textarea>
        </div>
        <div class="flex items-center gap-3 pt-2">
            <button type="submit" id="submitBtn" class="px-4 py-2 bg-[#7B1E24] text-white rounded-lg hover:bg-[#8f2b33] transition duration-200 disabled:opacity-50">
                ุฅุฑุณุงู ุงูููุงุญุธุฉ ุฅูู Google Sheet
            </button>
            <div id="formLoader" class="loader"></div>
            <span id="formStatus" class="text-sm"></span>
        </div>
        <div class="mt-4 text-sm text-gray-600">
            ูุนุฑุถ ุงูุณุฌู ุงููุงูู: <a href="https://docs.google.com/spreadsheets/d/1cGxMCYqGfPH2UiE-nsCoytIRjIPSDYxutnq04XF5YGs/edit" target="_blank" class="text-[#7B1E24] underline">ูุชุญ ููู Google Sheet</a>.
        </div>
    `;
    container.appendChild(form);
}

// === ูุธููุฉ ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู Google Apps Script ===
async function submitRound(event) {
    event.preventDefault();
    const form = document.getElementById('roundsForm');
    const submitBtn = document.getElementById('submitBtn');
    const loader = document.getElementById('formLoader');
    const statusMsg = document.getElementById('formStatus');

    if (FMS_API_URL.includes('YOUR_GOOGLE_SCRIPT_WEB_APP_URL_HERE')) {
        alert('ุฎุทุฃ ูู ุงูุฅุนุฏุงุฏ: ูู ูุชู ุชุญุฏูุซ ุฑุงุจุท Google Apps Script (FMS_API_URL) ูู ุงูููุฏ.');
        return;
    }

    submitBtn.disabled = true;
    loader.style.display = 'block';
    statusMsg.textContent = 'ุฌุงุฑู ุงูุฅุฑุณุงู...';
    statusMsg.className = 'text-sm text-blue-600';

    // ุงุณุชุฎุฏุงู FormData ูู ุงูุทุฑููุฉ ุงูุฃูุถู ูุชุฌุงูุฒ ูููุฏ CORS ุนูุฏ ุงูุฅุฑุณุงู ูู Google Script
    const formData = new FormData(form);

    try {
        // ุฅุฑุณุงู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู fetch
        const response = await fetch(FMS_API_URL, {
            method: 'POST',
            body: formData,
            // ูุง ูุญุชุงุฌ ูุถุจุท Headers ุนูุฏ ุงุณุชุฎุฏุงู FormData
        });

        // ูุฌุงุญ ุงูุทูุจ
        statusMsg.textContent = 'โ ุชู ุงูุฅุฑุณุงู ุจูุฌุงุญ ุฅูู Google Sheet!';
        statusMsg.className = 'text-sm text-green-600';
        form.reset(); // ุชูุฑูุบ ุงููููุฐุฌ

    } catch (error) {
        console.error('Error submitting round:', error);
        statusMsg.textContent = 'โ ูุดู ุงูุฅุฑุณุงู. ุชุญูู ูู ุฅุนุฏุงุฏุงุช Google Script (ุงูุฎุทูุฉ ุงูุฃููู) ุฃู ุงุชุตุงู ุงูุดุจูุฉ.';
        statusMsg.className = 'text-sm text-red-600';
    } finally {
        submitBtn.disabled = false;
        loader.style.display = 'none';
    }
}

    // ยซุจุงูู ุงูุงุญุชูุงุฌุงุชยป
    function renderNeeds(container) {
        const wrap = document.createElement('div');
        wrap.className = 'grid grid-cols-1 md:grid-cols-2 gap-4';

        FMS_NEEDS.forEach(item=>{
            const card = document.createElement('div');
            card.className = 'p-4 rounded border shadow-sm bg-gray-50';
            card.innerHTML = `
            <div class="flex items-start gap-3">
            <input type="checkbox" id="need_${item.key}" class="mt-1 h-5 w-5" ${item.required ? 'data-required="1"' : ''}>
            <div>
            <label for="need_${item.key}" class="font-semibold">${item.label}</label>
            ${item.required ? '<div class="text-xs text-red-600 mt-1">ูุทููุจ</div>' : ''}
            </div>
            </div>
            `;
            wrap.appendChild(card);
        });

        const actions = document.createElement('div');
        actions.className = 'flex items-center gap-2 mt-2';
        actions.innerHTML = `
        <button class="px-3 py-2 bg-[#7B1E24] text-white rounded hover:bg-[#8f2b33]" onclick="validateNeeds()">ุชุญููู ูู ุงูุงูุชูุงู</button>
        <button class="px-3 py-2 bg-gray-200 rounded hover:bg-gray-300" onclick="window.print()">ุทุจุงุนุฉ</button>
        `;

        container.appendChild(wrap);
        container.appendChild(actions);
    }

    function validateNeeds() {
        const required = [...document.querySelectorAll('input[data-required="1"]')];
        const missing = required.filter(cb => !cb.checked);
        if (missing.length === 0) {
            alert('ููุชุงุฒ โ โ ุฌููุน ุงููุชุทูุจุงุช ุงูุฅูุฒุงููุฉ ููุคุดูุฑ ุนูููุง.');
        } else {
            alert('โ๏ธ ููุงู ุนูุงุตุฑ ุฅูุฒุงููุฉ ุบูุฑ ููุชููุฉ: ' + missing.length);
        }
    }

    // ููุงุฆู ุงูุฎุทุท/ุงูุญูููุฉ/ุงูููุงุฐุฌ
    function renderList(container, items, kind) {
        const list = document.createElement('div');
        list.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4';

        items.forEach(d=>{
            const card = document.createElement('div');
            card.className = 'p-4 rounded border shadow-sm bg-white hover:shadow-md transition duration-200';
            
            // ุชุญุฏูุฏ ุฅุฐุง ูุงู ุงูุฑุงุจุท ูุชุงุญุงู
            const isDisabled = d.url === 'about:blank';
            const buttonClass = isDisabled ? 'bg-gray-400 cursor-not-allowed' : 'bg-[#7B1E24] hover:bg-[#8f2b33]';
            const linkClass = isDisabled ? 'bg-gray-300 cursor-not-allowed text-gray-500' : 'bg-gray-200 hover:bg-gray-300 text-gray-800';

            card.innerHTML = `
                <div class="flex items-center justify-between mb-2">
                    <div class="font-bold text-[#7B1E24]">${d.code}</div>
                    <span class="text-xs bg-gray-100 px-2 py-1 rounded">${kind}</span>
                </div>
                <div class="mb-4 font-medium text-gray-800">${d.name}</div>
                <div class="flex items-center gap-2">
                    <button class="px-3 py-1 text-sm text-white rounded ${buttonClass}"
                        onclick="openFmsDoc('${d.code}: ${d.name}', '${d.url}')" ${isDisabled ? 'disabled' : ''}>๐ ุนุฑุถ</button>
                    <a class="px-3 py-1 text-sm rounded ${linkClass}" 
                       href="${d.url}" target="_blank" 
                       ${isDisabled ? 'onclick="event.preventDefault()"' : ''}>โ ูุชุญ ุฎุงุฑุฌู</a>
                </div>
                ${isDisabled ? '<p class="text-xs text-red-500 mt-2">ุงูุฑุงุจุท ุบูุฑ ูุชููุฑ</p>' : ''}
            `;
            list.appendChild(card);
        });
        container.appendChild(list);
    }

    function renderKpis(container) {
        const box = document.createElement('div');
        box.className = 'grid grid-cols-1 md:grid-cols-3 gap-4';
        box.innerHTML = `
        <div class="bg-white p-4 rounded border shadow">
        <div class="text-sm text-gray-500">ูุณุจุฉ ุฅูุฌุงุฒ ุงูุฌููุงุช</div>
        <div class="text-2xl font-bold text-[#7B1E24]">85%</div>
        </div>
        <div class="bg-white p-4 rounded border shadow">
        <div class="text-sm text-gray-500">ุงูุตูุงูุฉ ุงูููุงุฆูุฉ (PPM)</div>
        <div class="text-2xl font-bold text-[#C55A44]">92%</div>
        </div>
        <div class="bg-white p-4 rounded border shadow">
        <div class="text-sm text-gray-500">ุงูุชุฏุฑูุจ ุงููููุฐ</div>
        <div class="text-2xl font-bold text-[#7B1E24]">78%</div>
        </div>
        `;
        container.appendChild(box);
    }

    // Modal
    function openFmsDoc(title, url) {
        if (!url || url === 'about:blank') {
            return;
        }
        document.getElementById('fmsModalTitle').textContent = title;

        // ูุนุฑุถ ุงูุฑุงุจุท ูุจุงุดุฑุฉุ ุฑูุงุจุท Drive ุชุนูู ุนุงุฏุฉ ุฏุงุฎู iframe ุฅุฐุง ูุงูุช ุงูุตูุงุญูุงุช ููุชูุญุฉ
        document.getElementById('fmsModalFrame').src = url; 
        document.getElementById('fmsModalOpenNew').href = url;
        document.getElementById('fmsModal').classList.remove('hidden');
        document.getElementById('fmsModal').classList.add('flex');
    }
    function closeFmsModal() {
        document.getElementById('fmsModal').classList.add('hidden');
        document.getElementById('fmsModal').classList.remove('flex');
        document.getElementById('fmsModalFrame').src = 'about:blank'; // ุชูุฑูุบ ุงูู iframe
    }
ย </script>
</body>
</html>
