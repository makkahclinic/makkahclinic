<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±ÙƒØ² Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„Ø·ÙˆØ§Ø±Ø¦ - EOC | Ù…Ø¬Ù…Ø¹ Ù…ÙƒØ© Ø§Ù„Ø·Ø¨ÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1e3a5f;
            --secondary: #c9a962;
            --danger: #DC143C;
            --success: #10b981;
            --warning: #f59e0b;
            --info: #3b82f6;
            --dark: #1f2937;
            --light: #f8fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a5f 100%);
            min-height: 100vh;
            color: #fff;
        }

        .header {
            background: rgba(30, 58, 95, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid var(--secondary);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-title img {
            height: 50px;
        }

        .header-title h1 {
            font-size: 1.5rem;
            color: #fff;
        }

        .header-title h1 span {
            color: var(--secondary);
        }

        .back-btn {
            background: rgba(255,255,255,0.1);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: var(--secondary);
            color: var(--primary);
        }

        /* Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - 3 Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */
        .main-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 100px);
            padding: 40px 20px;
        }

        .menu-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .menu-title h2 {
            font-size: 2.5rem;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .menu-title p {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .menu-cards {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 1200px;
        }

        .menu-card {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 40px 30px;
            width: 300px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .menu-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 0%, rgba(255,255,255,0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .menu-card:hover {
            transform: translateY(-10px);
            border-color: var(--secondary);
            box-shadow: 0 20px 60px rgba(201, 169, 98, 0.2);
        }

        .menu-card:hover::before {
            opacity: 1;
        }

        .menu-card-icon {
            width: 120px;
            height: 120px;
            margin: 0 auto 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            position: relative;
        }

        .menu-card.training .menu-card-icon {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            box-shadow: 0 10px 40px rgba(245, 158, 11, 0.4);
        }

        .menu-card.training-log .menu-card-icon {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            box-shadow: 0 10px 40px rgba(59, 130, 246, 0.4);
        }

        .menu-card.reports .menu-card-icon {
            background: linear-gradient(135deg, #DC143C, #b91c1c);
            box-shadow: 0 10px 40px rgba(220, 20, 60, 0.4);
        }

        .menu-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #fff;
        }

        .menu-card p {
            font-size: 1rem;
            opacity: 0.7;
            line-height: 1.6;
        }

        .menu-card .arrow {
            margin-top: 20px;
            font-size: 1.5rem;
            color: var(--secondary);
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.3s;
        }

        .menu-card:hover .arrow {
            opacity: 1;
            transform: translateX(0);
        }

        /* Ø´Ø§Ø´Ø© Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù…Ù„ÙŠ */
        .training-session {
            display: none;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .training-session.active {
            display: block;
        }

        .session-header {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .session-header h2 {
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
            color: #000;
        }

        .session-timer {
            background: rgba(0,0,0,0.2);
            padding: 10px 25px;
            border-radius: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: #000;
            direction: ltr;
        }

        .back-to-menu {
            background: rgba(0,0,0,0.2);
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            color: #000;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .back-to-menu:hover {
            background: rgba(0,0,0,0.3);
        }

        .training-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 25px;
        }

        @media (max-width: 1000px) {
            .training-content {
                grid-template-columns: 1fr;
            }
        }

        .scenarios-section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .section-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--secondary);
        }

        .scenario-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .scenario-btn {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.15);
            padding: 20px 15px;
            border-radius: 12px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-family: 'Tajawal', sans-serif;
        }

        .scenario-btn:hover {
            transform: scale(1.03);
        }

        .scenario-btn i {
            font-size: 2.5rem;
            display: block;
            margin-bottom: 10px;
        }

        .scenario-btn span {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .scenario-btn.fire { border-color: #ef4444; }
        .scenario-btn.fire:hover, .scenario-btn.fire.active { background: rgba(239, 68, 68, 0.25); }
        .scenario-btn.fire i { color: #ef4444; }

        .scenario-btn.power { border-color: #f59e0b; }
        .scenario-btn.power:hover, .scenario-btn.power.active { background: rgba(245, 158, 11, 0.25); }
        .scenario-btn.power i { color: #f59e0b; }

        .scenario-btn.water { border-color: #3b82f6; }
        .scenario-btn.water:hover, .scenario-btn.water.active { background: rgba(59, 130, 246, 0.25); }
        .scenario-btn.water i { color: #3b82f6; }

        .scenario-btn.medical { border-color: #10b981; }
        .scenario-btn.medical:hover, .scenario-btn.medical.active { background: rgba(16, 185, 129, 0.25); }
        .scenario-btn.medical i { color: #10b981; }

        .scenario-btn.infection { border-color: #8b5cf6; }
        .scenario-btn.infection:hover, .scenario-btn.infection.active { background: rgba(139, 92, 246, 0.25); }
        .scenario-btn.infection i { color: #8b5cf6; }

        /* ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ - Ù†ÙØ³ ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© Ø§Ù„Ø¨Ù„Ø§Øº */
        .training-instructions {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            border: 3px solid #f59e0b;
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
            display: none;
        }

        .training-instructions.active {
            display: block;
            animation: fadeInUp 0.4s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .instructions-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
            color: #dc2626;
            font-size: 1.5rem;
            font-weight: 800;
        }

        .instructions-header i {
            font-size: 1.8rem;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .instruction-step {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 18px;
            margin-bottom: 12px;
            background: #fff;
            border-radius: 10px;
            border-right: 5px solid #dc2626;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .instruction-step:hover {
            transform: translateX(-5px);
        }

        .instruction-step:last-child {
            margin-bottom: 0;
        }

        .step-num {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: #fff;
            min-width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 2px 5px rgba(220, 38, 38, 0.4);
        }

        .step-icon {
            font-size: 1.6rem;
            margin-left: 8px;
        }

        .step-text {
            flex: 1;
            font-size: 1.3rem;
            line-height: 1.6;
            color: #1f2937;
        }

        .step-text strong {
            color: #dc2626;
            font-weight: 700;
        }

        .instruction-step.danger-step {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border-right: 5px solid #991b1b;
            animation: pulse-danger 2s infinite;
        }

        @keyframes pulse-danger {
            0%, 100% { box-shadow: 0 2px 8px rgba(185, 28, 28, 0.3); }
            50% { box-shadow: 0 4px 15px rgba(185, 28, 28, 0.5); }
        }

        .instruction-step.danger-step .step-icon {
            font-size: 2.2rem;
            position: relative;
        }

        .instruction-step.danger-step .step-icon::after {
            content: 'ğŸš«';
            position: absolute;
            font-size: 1rem;
            top: -5px;
            right: -8px;
        }

        /* Ù‚Ø³Ù… Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† */
        .trainees-section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .trainer-input {
            margin-bottom: 20px;
        }

        .trainer-input label {
            display: block;
            margin-bottom: 8px;
            color: var(--secondary);
            font-weight: 600;
        }

        .trainer-input input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            background: rgba(255,255,255,0.05);
            color: #fff;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
        }

        .trainer-input input:focus {
            outline: none;
            border-color: var(--secondary);
        }

        .trainees-list {
            max-height: 350px;
            overflow-y: auto;
        }

        .trainee-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .trainee-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .trainee-item.selected {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--success);
        }

        .trainee-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--success);
            font-size: 0.9rem;
        }

        .trainee-item.selected .trainee-checkbox {
            background: var(--success);
            border-color: var(--success);
            color: #fff;
        }

        .trainee-name {
            flex: 1;
            font-size: 1rem;
        }

        .trainee-dept {
            font-size: 0.85rem;
            opacity: 0.7;
        }

        .selected-count {
            text-align: center;
            padding: 10px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            margin-top: 15px;
            color: var(--success);
            font-weight: 600;
        }

        .save-training-btn {
            width: 100%;
            padding: 18px;
            margin-top: 20px;
            background: linear-gradient(135deg, var(--success), #059669);
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .save-training-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 25px rgba(16, 185, 129, 0.4);
        }

        .save-training-btn:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
        }

        /* Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ */
        .training-log-section {
            display: none;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .training-log-section.active {
            display: block;
        }

        .log-header {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .log-header h2 {
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .log-filters {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-input {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            background: rgba(255,255,255,0.2);
            color: #fff;
            font-family: 'Tajawal', sans-serif;
        }

        .filter-input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .print-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Tajawal', sans-serif;
            transition: all 0.3s;
        }

        .print-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .log-table-container {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            overflow-x: auto;
        }

        .log-table {
            width: 100%;
            border-collapse: collapse;
        }

        .log-table th,
        .log-table td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .log-table th {
            background: rgba(59, 130, 246, 0.2);
            color: var(--secondary);
            font-weight: 700;
        }

        .log-table tr:hover {
            background: rgba(255,255,255,0.05);
        }

        .scenario-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .scenario-badge.fire { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .scenario-badge.power { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .scenario-badge.water { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .scenario-badge.medical { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .scenario-badge.infection { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }

        .view-details-btn {
            background: var(--secondary);
            color: var(--primary);
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Tajawal', sans-serif;
            font-weight: 600;
            transition: all 0.3s;
        }

        .view-details-btn:hover {
            transform: scale(1.05);
        }

        /* Ø³Ø¬Ù„ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª */
        .reports-log-section {
            display: none;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .reports-log-section.active {
            display: block;
        }

        .reports-header {
            background: linear-gradient(135deg, #DC143C, #b91c1c);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .reports-header h2 {
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-badge.pending { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .status-badge.responded { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .status-badge.resolved { background: rgba(16, 185, 129, 0.2); color: #10b981; }

        /* Ù†Ø§ÙØ°Ø© ØªÙØ§ØµÙŠÙ„ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e3a5f, #0f172a);
            border-radius: 20px;
            padding: 30px;
            max-width: 700px;
            width: 100%;
            border: 2px solid var(--secondary);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .modal-header h3 {
            font-size: 1.5rem;
            color: var(--secondary);
        }

        .close-modal {
            background: rgba(255,255,255,0.1);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .close-modal:hover {
            background: var(--danger);
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .detail-label {
            color: var(--secondary);
            font-weight: 600;
        }

        .trainees-list-modal {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .trainees-list-modal h4 {
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .trainees-list-modal ul {
            list-style: none;
        }

        .trainees-list-modal li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .trainees-list-modal li i {
            color: var(--success);
        }

        .print-details-btn {
            width: 100%;
            margin-top: 20px;
            padding: 15px;
            background: var(--secondary);
            color: var(--primary);
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            font-family: 'Tajawal', sans-serif;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .print-details-btn:hover {
            transform: scale(1.02);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            border-radius: 10px;
            color: #fff;
            font-weight: 600;
            z-index: 99999;
            display: none;
            align-items: center;
            gap: 10px;
            animation: slideUp 0.3s ease;
        }

        .toast.show {
            display: flex;
        }

        .toast.success { background: var(--success); }
        .toast.error { background: var(--danger); }
        .toast.info { background: var(--info); }

        @keyframes slideUp {
            from { transform: translateX(-50%) translateY(50px); opacity: 0; }
            to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }

        /* Print Styles */
        @media print {
            body {
                background: #fff !important;
                color: #000 !important;
            }

            .header, .back-to-menu, .back-btn, .print-btn, .view-details-btn, .save-training-btn {
                display: none !important;
            }

            .training-log-section, .reports-log-section, .modal-content {
                display: block !important;
            }

            .log-header, .reports-header {
                background: #f3f4f6 !important;
                color: #000 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }

            .log-table th {
                background: #e5e7eb !important;
                color: #000 !important;
            }

            .log-table td {
                border-color: #d1d5db !important;
            }
        }
    </style>
</head>
<body>

<!-- Header -->
<header class="header">
    <div class="header-title">
        <img src="logo-transparent.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¬Ù…Ø¹">
        <h1>Ù…Ø±ÙƒØ² Ø§Ù„ØªØ¯Ø±ÙŠØ¨ <span>ÙˆØ§Ù„Ø·ÙˆØ§Ø±Ø¦ EOC</span></h1>
    </div>
    <a href="cbahi-portal.html" class="back-btn">
        <i class="fas fa-arrow-right"></i>
        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨ÙˆØ§Ø¨Ø©
    </a>
</header>

<!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - 3 Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
<div class="main-menu" id="mainMenu">
    <div class="menu-title">
        <h2><i class="fas fa-shield-alt"></i> Ù…Ø±ÙƒØ² Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„Ø·ÙˆØ§Ø±Ø¦</h2>
        <p>Ø§Ø®ØªØ± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡</p>
    </div>

    <div class="menu-cards">
        <!-- Ø¬Ù„Ø³Ø© ØªØ¯Ø±ÙŠØ¨ Ø¹Ù…Ù„ÙŠ -->
        <div class="menu-card training" onclick="showTrainingSession()">
            <div class="menu-card-icon">
                <i class="fas fa-chalkboard-teacher"></i>
            </div>
            <h3>Ø¬Ù„Ø³Ø© ØªØ¯Ø±ÙŠØ¨ Ø¹Ù…Ù„ÙŠ</h3>
            <p>Ø§Ø¨Ø¯Ø£ Ø¬Ù„Ø³Ø© ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ù…Ø¹ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­Ø¶ÙˆØ±</p>
            <div class="arrow"><i class="fas fa-arrow-left"></i></div>
        </div>

        <!-- Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ -->
        <div class="menu-card training-log" onclick="showTrainingLog()">
            <div class="menu-card-icon">
                <i class="fas fa-clipboard-list"></i>
            </div>
            <h3>Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h3>
            <p>Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø¬Ù„Ø³Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</p>
            <div class="arrow"><i class="fas fa-arrow-left"></i></div>
        </div>

        <!-- Ø³Ø¬Ù„ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª -->
        <div class="menu-card reports" onclick="showReportsLog()">
            <div class="menu-card-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h3>Ø³Ø¬Ù„ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</h3>
            <p>Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø§Ù„ÙˆØ§Ø±Ø¯Ø© ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§</p>
            <div class="arrow"><i class="fas fa-arrow-left"></i></div>
        </div>
    </div>
</div>

<!-- Ø´Ø§Ø´Ø© Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù…Ù„ÙŠ -->
<div class="training-session" id="trainingSession">
    <div class="session-header">
        <h2><i class="fas fa-chalkboard-teacher"></i> Ø¬Ù„Ø³Ø© ØªØ¯Ø±ÙŠØ¨ Ø¹Ù…Ù„ÙŠ</h2>
        <div class="session-timer" id="sessionTimer">00:00:00</div>
        <button class="back-to-menu" onclick="backToMenu()">
            <i class="fas fa-arrow-right"></i>
            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
        </button>
    </div>

    <div class="training-content">
        <div class="scenarios-section">
            <h3 class="section-title"><i class="fas fa-fire-alt"></i> Ø§Ø®ØªØ± Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h3>
            
            <div class="scenario-buttons">
                <button class="scenario-btn fire" data-scenario="fire" onclick="selectScenario('fire')">
                    <i class="fas fa-fire"></i>
                    <span>Ø­Ø±ÙŠÙ‚</span>
                </button>
                <button class="scenario-btn power" data-scenario="power" onclick="selectScenario('power')">
                    <i class="fas fa-bolt"></i>
                    <span>Ø§Ù†Ù‚Ø·Ø§Ø¹ ÙƒÙ‡Ø±Ø¨Ø§Ø¡</span>
                </button>
                <button class="scenario-btn water" data-scenario="water" onclick="selectScenario('water')">
                    <i class="fas fa-tint"></i>
                    <span>ØªØ³Ø±Ø¨ Ù…ÙŠØ§Ù‡</span>
                </button>
                <button class="scenario-btn medical" data-scenario="medical" onclick="selectScenario('medical')">
                    <i class="fas fa-heartbeat"></i>
                    <span>Ø¥ØºÙ…Ø§Ø¡ / Ø¥ØµØ§Ø¨Ø©</span>
                </button>
                <button class="scenario-btn infection" data-scenario="infection" onclick="selectScenario('infection')">
                    <i class="fas fa-virus"></i>
                    <span>ØªÙØ´ÙŠ Ø¹Ø¯ÙˆÙ‰</span>
                </button>
            </div>

            <!-- Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª - Ù†ÙØ³ ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© Ø§Ù„Ø¨Ù„Ø§Øº -->
            <div class="training-instructions" id="trainingInstructions">
                <div class="instructions-header">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span id="instructionsTitle">Ø§Ø®ØªØ± Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ</span>
                </div>
                <div id="instructionsContent"></div>
            </div>
        </div>

        <div class="trainees-section">
            <h3 class="section-title"><i class="fas fa-users"></i> Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙˆÙ†</h3>
            
            <div class="trainer-input">
                <label><i class="fas fa-user-tie"></i> Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨</label>
                <input type="text" id="trainerName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨...">
            </div>

            <h4 style="color: var(--secondary); margin-bottom: 10px;">
                <i class="fas fa-user-check"></i> Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ø¶Ø±ÙŠÙ†
            </h4>
            <div class="trainees-list" id="traineesList">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ù…Ù† JavaScript -->
            </div>

            <div class="selected-count" id="selectedCount">
                <i class="fas fa-check-circle"></i>
                ØªÙ… Ø§Ø®ØªÙŠØ§Ø± <span id="countNum">0</span> Ù…ØªØ¯Ø±Ø¨
            </div>

            <button class="save-training-btn" id="saveTrainingBtn" onclick="saveTraining()" disabled>
                <i class="fas fa-save"></i>
                Ø­ÙØ¸ Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨
            </button>
        </div>
    </div>
</div>

<!-- Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ -->
<div class="training-log-section" id="trainingLogSection">
    <div class="log-header">
        <h2><i class="fas fa-clipboard-list"></i> Ø³Ø¬Ù„ Ø¬Ù„Ø³Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h2>
        <div class="log-filters">
            <input type="date" class="filter-input" id="logDateFrom" onchange="filterTrainingLog()">
            <input type="date" class="filter-input" id="logDateTo" onchange="filterTrainingLog()">
            <button class="print-btn" onclick="printTrainingLog()">
                <i class="fas fa-print"></i>
                Ø·Ø¨Ø§Ø¹Ø©
            </button>
        </div>
        <button class="back-to-menu" onclick="backToMenu()">
            <i class="fas fa-arrow-right"></i>
            Ø§Ù„Ø¹ÙˆØ¯Ø©
        </button>
    </div>

    <div class="log-table-container">
        <table class="log-table" id="trainingLogTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                    <th>Ø§Ù„ÙˆÙ‚Øª</th>
                    <th>Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ</th>
                    <th>Ø§Ù„Ù…Ø¯Ø±Ø¨</th>
                    <th>Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</th>
                    <th>Ø§Ù„Ù…Ø¯Ø©</th>
                    <th>ØªÙØ§ØµÙŠÙ„</th>
                </tr>
            </thead>
            <tbody id="trainingLogBody">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ù…Ù† JavaScript -->
            </tbody>
        </table>
    </div>
</div>

<!-- Ø³Ø¬Ù„ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª -->
<div class="reports-log-section" id="reportsLogSection">
    <div class="reports-header">
        <h2><i class="fas fa-exclamation-triangle"></i> Ø³Ø¬Ù„ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©</h2>
        <div class="log-filters">
            <input type="date" class="filter-input" id="reportDateFrom" onchange="filterReportsLog()">
            <input type="date" class="filter-input" id="reportDateTo" onchange="filterReportsLog()">
            <select class="filter-input" id="reportStatusFilter" onchange="filterReportsLog()">
                <option value="">ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                <option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</option>
                <option value="responded">ØªÙ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©</option>
                <option value="resolved">ØªÙ… Ø§Ù„Ø­Ù„</option>
            </select>
            <button class="print-btn" onclick="printReportsLog()">
                <i class="fas fa-print"></i>
                Ø·Ø¨Ø§Ø¹Ø©
            </button>
        </div>
        <button class="back-to-menu" onclick="backToMenu()">
            <i class="fas fa-arrow-right"></i>
            Ø§Ù„Ø¹ÙˆØ¯Ø©
        </button>
    </div>

    <div class="log-table-container">
        <table class="log-table" id="reportsLogTable">
            <thead>
                <tr>
                    <th>Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº</th>
                    <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                    <th>Ø§Ù„ÙˆÙ‚Øª</th>
                    <th>Ù†ÙˆØ¹ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦</th>
                    <th>Ø§Ù„Ù…ÙˆÙ‚Ø¹</th>
                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                    <th>ØªÙØ§ØµÙŠÙ„</th>
                </tr>
            </thead>
            <tbody id="reportsLogBody">
                <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ù…Ù† JavaScript -->
            </tbody>
        </table>
    </div>
</div>

<!-- Ù†Ø§ÙØ°Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ -->
<div class="modal-overlay" id="trainingModal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-clipboard-list"></i> ØªÙØ§ØµÙŠÙ„ Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</h3>
            <button class="close-modal" onclick="closeModal('trainingModal')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="trainingModalContent"></div>
        <button class="print-details-btn" onclick="printTrainingDetails()">
            <i class="fas fa-print"></i>
            Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„
        </button>
    </div>
</div>

<!-- Toast -->
<div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastMessage"></span>
</div>

<script>
    // Google Apps Script URL
    const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxdPMb4aYI-FsMw7GHWPo-4vW6kXNMEadiNBeDnFXP4DlHPKCjU6gTfQHlLXI0N7MgZlA/exec';

    // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†
    const trainees = [
        { id: 1, name: 'Ø¯. Ù…Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ', dept: 'Ø§Ù„Ø¨Ø§Ø·Ù†ÙŠØ©' },
        { id: 2, name: 'Ø¯. Ø³Ø§Ø±Ø© Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ', dept: 'Ø§Ù„Ø£Ø³Ù†Ø§Ù†' },
        { id: 3, name: 'Ø£. ÙØ§Ø·Ù…Ø© Ø§Ù„Ø­Ø±Ø¨ÙŠ', dept: 'Ø§Ù„ØªÙ…Ø±ÙŠØ¶' },
        { id: 4, name: 'Ø£. Ø£Ø­Ù…Ø¯ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ', dept: 'Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„' },
        { id: 5, name: 'Ø£. Ù†ÙˆØ±Ø© Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ', dept: 'Ø§Ù„Ù…Ø®ØªØ¨Ø±' },
        { id: 6, name: 'Ø£. Ø®Ø§Ù„Ø¯ Ø§Ù„Ø³Ø¨ÙŠØ¹ÙŠ', dept: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©' },
        { id: 7, name: 'Ø£. Ø±ÙŠÙ… Ø§Ù„Ø´Ù‡Ø±ÙŠ', dept: 'Ø§Ù„Ø£Ø´Ø¹Ø©' },
        { id: 8, name: 'Ø£. Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù…Ø±ÙŠ', dept: 'Ø§Ù„Ø·ÙˆØ§Ø±Ø¦' },
        { id: 9, name: 'Ø£. Ù…Ù†Ù‰ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ', dept: 'Ø§Ù„Ù†Ø³Ø§Ø¡ ÙˆØ§Ù„ÙˆÙ„Ø§Ø¯Ø©' },
        { id: 10, name: 'Ø£. Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø¯ÙˆØ³Ø±ÙŠ', dept: 'Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ' },
        { id: 11, name: 'Ø£. Ù‡Ù†Ø¯ Ø§Ù„Ø¨Ù‚Ù…ÙŠ', dept: 'Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©' },
        { id: 12, name: 'Ø£. ÙŠØ§Ø³Ø± Ø§Ù„Ø¹Ù†Ø²ÙŠ', dept: 'Ø§Ù„ØµÙŠØ§Ù†Ø©' }
    ];

    // Ø¨Ù†Ùƒ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ - Ù†ÙØ³ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø¨Ù„Ø§Øº
    const emergencyInstructions = {
        fire: {
            title: 'ğŸ”¥ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø­Ø±ÙŠÙ‚ - RACE',
            steps: [
                { icon: 'ğŸƒ', text: '<strong>Ø£Ù†Ù‚ÙØ°</strong> Ø£ÙŠ Ø´Ø®Øµ ÙÙŠ Ø®Ø·Ø± Ù…Ø¨Ø§Ø´Ø± (Ø¨Ø¯ÙˆÙ† ØªØ¹Ø±ÙŠØ¶ Ù†ÙØ³Ùƒ)' },
                { icon: 'ğŸ””', text: '<strong>ÙØ¹Ù‘Ù„ Ø§Ù„Ø¥Ù†Ø°Ø§Ø±</strong> ÙˆØ§ØªØµÙ„ Ø¨Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…Ø¯Ù†ÙŠ 998' },
                { icon: 'ğŸšª', text: '<strong>Ø£ØºÙ„Ù‚ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨</strong> Ù„Ù…Ù†Ø¹ Ø§Ù†ØªØ´Ø§Ø± Ø§Ù„Ø¯Ø®Ø§Ù†' },
                { icon: 'ğŸ§¯', text: '<strong>Ø£Ø·ÙØ¦</strong> ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† ØµØºÙŠØ±Ø§Ù‹ ÙˆØ¢Ù…Ù†Ø§Ù‹ (Ø·ÙØ§ÙŠØ© PASS)' },
                { icon: 'ğŸš¶', text: '<strong>Ø£Ø®Ù„Ù Ø§Ù„Ù…ÙƒØ§Ù†</strong> Ø¹Ø¨Ø± Ø§Ù„Ø³Ù„Ø§Ù„Ù… ÙÙ‚Ø·' },
                { icon: 'ğŸ›—', text: '<strong style="color:#b91c1c;text-decoration:line-through">Ø§Ù„Ù…ØµØ¹Ø¯ Ù…Ù…Ù†ÙˆØ¹</strong> - Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØµØ¹Ø¯ Ø£Ø¨Ø¯Ø§Ù‹!', danger: true },
                { icon: 'ğŸ“', text: '<strong>ØªÙˆØ¬Ù‡ Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªØ¬Ù…Ø¹</strong> ÙˆØ£Ø¨Ù„Øº Ø¹Ù† Ø£ÙŠ Ù…ÙÙ‚ÙˆØ¯' }
            ]
        },
        power: {
            title: 'âš¡ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡',
            steps: [
                { icon: 'ğŸ¥', text: '<strong>Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰ Ø£ÙˆÙ„Ø§Ù‹</strong>: Ø«Ø¨Ù‘Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø­Ø±Ø¬Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©' },
                { icon: 'ğŸ”§', text: '<strong>Ø¨Ù„Ù‘Øº Ø§Ù„ØµÙŠØ§Ù†Ø©</strong> ÙˆØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆÙ„Ø¯' },
                { icon: 'âš¡', text: '<strong>Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø·Ø§Ù‚Ø©</strong>: Ø±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø­Ø±Ø¬Ø© (Ø·ÙˆØ§Ø±Ø¦/Ø¹Ù†Ø§ÙŠØ©)' },
                { icon: 'ğŸ”Œ', text: '<strong>Ø£ÙˆÙ‚Ù ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠ</strong> Ù„ØªØ®ÙÙŠÙ Ø§Ù„Ø£Ø­Ù…Ø§Ù„' },
                { icon: 'ğŸ’Š', text: '<strong>Ø§Ø­Ù…Ù Ø§Ù„Ø£Ø¯ÙˆÙŠØ©</strong>: Ù‚Ù„Ù‘Ù„ ÙØªØ­ Ø§Ù„Ø«Ù„Ø§Ø¬Ø§Øª ÙˆØ±Ø§Ù‚Ø¨ Ø§Ù„Ø­Ø±Ø§Ø±Ø©' },
                { icon: 'ğŸš‘', text: '<strong>Ø¬Ù‡Ù‘Ø² Ù„Ù„Ù†Ù‚Ù„</strong> Ø¥Ø°Ø§ Ø·Ø§Ù„ Ø§Ù„Ø§Ù†Ù‚Ø·Ø§Ø¹' }
            ]
        },
        water: {
            title: 'ğŸ’§ ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªØ³Ø±Ø¨ Ø§Ù„Ù…ÙŠØ§Ù‡',
            steps: [
                { icon: 'âš¡', text: '<strong>Ø§Ø¹Ø²Ù„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡</strong>: Ø§ÙØµÙ„ Ø§Ù„ØªÙŠØ§Ø± Ø¹Ù† Ø§Ù„Ù…Ù†Ø·Ù‚Ø© ÙÙˆØ±Ø§Ù‹ ÙˆØ£Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø§Ø³' },
                { icon: 'ğŸš°', text: '<strong>Ø£ÙˆÙ‚Ù Ø§Ù„Ù…ØµØ¯Ø±</strong>: Ø£ØºÙ„Ù‚ Ø§Ù„Ù…Ø­Ø¨Ø³ Ø¥Ù† Ø£Ù…ÙƒÙ† Ø¨Ø£Ù…Ø§Ù†' },
                { icon: 'ğŸ“', text: '<strong>Ø¨Ù„Ù‘Øº Ø§Ù„ØµÙŠØ§Ù†Ø©</strong> ÙÙˆØ±Ø§Ù‹' },
                { icon: 'ğŸ–¥ï¸', text: '<strong>Ø§Ø­Ù…Ù Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©</strong>: Ø§Ø±ÙØ¹Ù‡Ø§ Ø£Ùˆ ØºØ·Ù‘Ù‡Ø§ Ø¨Ø¹ÙŠØ¯Ø§Ù‹ Ø¹Ù† Ø§Ù„Ù…Ø§Ø¡' },
                { icon: 'ğŸ§¹', text: '<strong>Ø¬ÙÙ Ø³Ø±ÙŠØ¹Ø§Ù‹</strong> Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙ„ÙˆØ« ÙˆØ§Ù„Ø¹ÙÙ†' },
                { icon: 'ğŸš«', text: '<strong>Ù„Ø§ ØªÙØªØ­ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</strong> Ø­ØªÙ‰ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø³Ù„Ø§Ù…Ø©' }
            ]
        },
        medical: {
            title: 'ğŸš‘ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¥ØºÙ…Ø§Ø¡/Ø§Ù„Ø¥ØµØ§Ø¨Ø©',
            steps: [
                { icon: 'ğŸ›¡ï¸', text: '<strong>ØªØ£Ù…ÙŠÙ† Ø§Ù„Ù…ÙƒØ§Ù†</strong>: Ù„Ø§ ØªØ¹Ø±Ù‘Ø¶ Ù†ÙØ³Ùƒ Ù„Ù„Ø®Ø·Ø±' },
                { icon: 'ğŸ‘‹', text: '<strong>ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©</strong>: Ø¥Ø°Ø§ ØºÙŠØ± Ù…Ø³ØªØ¬ÙŠØ¨ â†’ Ø§Ø¨Ø¯Ø£ CPR' },
                { icon: 'ğŸ“£', text: '<strong>Ø§Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</strong>: Ù†Ø§Ø¯Ù ÙØ±ÙŠÙ‚ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ + Ø£Ø­Ø¶Ø± AED' },
                { icon: 'ğŸ©¸', text: '<strong>Ù†Ø²ÙŠÙ</strong>: Ø£ÙˆÙ‚ÙÙ‡ Ø¨Ø¶ØºØ· Ù…Ø¨Ø§Ø´Ø±' },
                { icon: 'ğŸ¦´', text: '<strong>ÙƒØ³ÙˆØ±</strong>: Ø«Ø¨Ù‘Øª ÙˆÙ„Ø§ ØªØ­Ø±Ù‘Ùƒ Ø§Ù„Ù…ØµØ§Ø¨' },
                { icon: 'ğŸ’“', text: '<strong>Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©</strong> Ø­ØªÙ‰ ÙˆØµÙˆÙ„ Ø§Ù„ÙØ±ÙŠÙ‚' }
            ]
        },
        infection: {
            title: 'ğŸ¦  ØªØ¹Ù„ÙŠÙ…Ø§Øª ØªÙØ´ÙŠ Ø§Ù„Ø¹Ø¯ÙˆÙ‰',
            steps: [
                { icon: 'ğŸš·', text: '<strong>Ø¹Ø²Ù„ ÙÙˆØ±ÙŠ</strong> Ù„Ù„Ø­Ø§Ù„Ø©/Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø¹ Ù„Ø§ÙØªØ© Ø¹Ø²Ù„' },
                { icon: 'ğŸ¥½', text: '<strong>Ø§Ù„Ø¨Ø³ Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ÙˆÙ‚Ø§ÙŠØ©</strong> Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© (PPE)' },
                { icon: 'ğŸ“', text: '<strong>Ø¨Ù„Ù‘Øº Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø¹Ø¯ÙˆÙ‰</strong> ÙˆÙØ¹Ù‘Ù„ ÙØ±ÙŠÙ‚ Ø§Ù„ØªÙØ´ÙŠ' },
                { icon: 'ğŸš«', text: '<strong>Ù‚ÙŠÙ‘Ø¯ Ø§Ù„Ø­Ø±ÙƒØ©</strong>: Ø§Ù…Ù†Ø¹ Ø§Ù„Ø²ÙˆØ§Ø± ÙˆØªØ­ÙƒÙ… Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„/Ø§Ù„Ø®Ø±ÙˆØ¬' },
                { icon: 'ğŸ§´', text: '<strong>Ù†Ø¸Ø§ÙØ© Ø§Ù„ÙŠØ¯ÙŠÙ†</strong>: Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„ØµØ§Ø±Ù… + ØªØ·Ù‡ÙŠØ± Ø§Ù„Ø£Ø³Ø·Ø­' },
                { icon: 'ğŸ‘¥', text: '<strong>ØªØªØ¨Ø¹ Ø§Ù„Ù…Ø®Ø§Ù„Ø·ÙŠÙ†</strong> ÙˆØ±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶' }
            ]
        }
    };

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©
    let currentScenario = null;
    let selectedTrainees = [];
    let sessionStartTime = null;
    let timerInterval = null;
    let trainingLogs = [];
    let reportsLogs = [];

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', function() {
        renderTraineesList();
        loadTrainingLogs();
        loadReportsLogs();
    });

    // Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†
    function renderTraineesList() {
        const container = document.getElementById('traineesList');
        container.innerHTML = trainees.map(t => `
            <div class="trainee-item" data-id="${t.id}" onclick="toggleTrainee(${t.id})">
                <div class="trainee-checkbox">
                    <i class="fas fa-check"></i>
                </div>
                <span class="trainee-name">${t.name}</span>
                <span class="trainee-dept">${t.dept}</span>
            </div>
        `).join('');
    }

    // ØªØ¨Ø¯ÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø± Ù…ØªØ¯Ø±Ø¨
    function toggleTrainee(id) {
        const item = document.querySelector(`.trainee-item[data-id="${id}"]`);
        const index = selectedTrainees.indexOf(id);
        
        if (index > -1) {
            selectedTrainees.splice(index, 1);
            item.classList.remove('selected');
        } else {
            selectedTrainees.push(id);
            item.classList.add('selected');
        }
        
        updateSelectedCount();
        checkSaveEnabled();
    }

    function updateSelectedCount() {
        document.getElementById('countNum').textContent = selectedTrainees.length;
    }

    function checkSaveEnabled() {
        const trainerName = document.getElementById('trainerName').value.trim();
        const btn = document.getElementById('saveTrainingBtn');
        btn.disabled = !(currentScenario && trainerName && selectedTrainees.length > 0);
    }

    // Ø¥Ø¶Ø§ÙØ© listener Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø¨
    document.getElementById('trainerName').addEventListener('input', checkSaveEnabled);

    // Ø§Ø®ØªÙŠØ§Ø± Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ
    function selectScenario(scenario) {
        currentScenario = scenario;
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        document.querySelectorAll('.scenario-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`.scenario-btn.${scenario}`).classList.add('active');
        
        // Ø¹Ø±Ø¶ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª
        showInstructions(scenario);
        checkSaveEnabled();
    }

    function showInstructions(scenario) {
        const instructions = emergencyInstructions[scenario];
        const container = document.getElementById('trainingInstructions');
        const title = document.getElementById('instructionsTitle');
        const content = document.getElementById('instructionsContent');
        
        title.textContent = instructions.title;
        content.innerHTML = instructions.steps.map((step, i) => `
            <div class="instruction-step${step.danger ? ' danger-step' : ''}">
                <span class="step-num">${i + 1}</span>
                <span class="step-icon">${step.icon}</span>
                <span class="step-text">${step.text}</span>
            </div>
        `).join('');
        
        container.classList.add('active');
    }

    // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø§Øª
    function showTrainingSession() {
        document.getElementById('mainMenu').style.display = 'none';
        document.getElementById('trainingSession').classList.add('active');
        startTimer();
    }

    function showTrainingLog() {
        document.getElementById('mainMenu').style.display = 'none';
        document.getElementById('trainingLogSection').classList.add('active');
        loadTrainingLogs();
    }

    function showReportsLog() {
        document.getElementById('mainMenu').style.display = 'none';
        document.getElementById('reportsLogSection').classList.add('active');
        loadReportsLogs();
    }

    function backToMenu() {
        document.getElementById('mainMenu').style.display = 'flex';
        document.getElementById('trainingSession').classList.remove('active');
        document.getElementById('trainingLogSection').classList.remove('active');
        document.getElementById('reportsLogSection').classList.remove('active');
        resetTrainingSession();
    }

    function resetTrainingSession() {
        stopTimer();
        currentScenario = null;
        selectedTrainees = [];
        document.getElementById('trainerName').value = '';
        document.querySelectorAll('.scenario-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById('trainingInstructions').classList.remove('active');
        document.querySelectorAll('.trainee-item').forEach(item => item.classList.remove('selected'));
        updateSelectedCount();
        checkSaveEnabled();
    }

    // Ø§Ù„Ù…Ø¤Ù‚Øª
    function startTimer() {
        sessionStartTime = new Date();
        timerInterval = setInterval(updateTimer, 1000);
    }

    function stopTimer() {
        if (timerInterval) {
            clearInterval(timerInterval);
            timerInterval = null;
        }
    }

    function updateTimer() {
        const now = new Date();
        const diff = Math.floor((now - sessionStartTime) / 1000);
        const hours = String(Math.floor(diff / 3600)).padStart(2, '0');
        const minutes = String(Math.floor((diff % 3600) / 60)).padStart(2, '0');
        const seconds = String(diff % 60).padStart(2, '0');
        document.getElementById('sessionTimer').textContent = `${hours}:${minutes}:${seconds}`;
    }

    function getDuration() {
        if (!sessionStartTime) return '00:00';
        const now = new Date();
        const diff = Math.floor((now - sessionStartTime) / 1000);
        const minutes = Math.floor(diff / 60);
        const seconds = diff % 60;
        return `${minutes}:${String(seconds).padStart(2, '0')}`;
    }

    // Ø­ÙØ¸ Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨
    async function saveTraining() {
        const trainerName = document.getElementById('trainerName').value.trim();
        const duration = getDuration();
        const now = new Date();
        
        const selectedTraineeNames = selectedTrainees.map(id => {
            const t = trainees.find(tr => tr.id === id);
            return t ? t.name : '';
        });
        
        const scenarioNames = {
            fire: 'Ø­Ø±ÙŠÙ‚',
            power: 'Ø§Ù†Ù‚Ø·Ø§Ø¹ ÙƒÙ‡Ø±Ø¨Ø§Ø¡',
            water: 'ØªØ³Ø±Ø¨ Ù…ÙŠØ§Ù‡',
            medical: 'Ø¥ØºÙ…Ø§Ø¡ / Ø¥ØµØ§Ø¨Ø©',
            infection: 'ØªÙØ´ÙŠ Ø¹Ø¯ÙˆÙ‰'
        };
        
        const trainingData = {
            action: 'saveTraining',
            date: now.toLocaleDateString('ar-SA'),
            time: now.toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' }),
            scenario: scenarioNames[currentScenario],
            scenarioKey: currentScenario,
            trainer: trainerName,
            trainees: selectedTraineeNames.join('ØŒ '),
            traineeCount: selectedTrainees.length,
            duration: duration
        };
        
        try {
            // Ø­ÙØ¸ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø£ÙˆÙ„Ø§Ù‹
            trainingLogs.unshift({
                id: Date.now(),
                ...trainingData
            });
            
            showToast('ØªÙ… Ø­ÙØ¸ Ø¬Ù„Ø³Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Google Sheets
            sendToGoogleSheets(trainingData);
            
            backToMenu();
        } catch (error) {
            console.error('Error saving training:', error);
            showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸', 'error');
        }
    }

    // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Google Sheets
    function sendToGoogleSheets(data) {
        const script = document.createElement('script');
        const params = new URLSearchParams(data).toString();
        script.src = `${APPS_SCRIPT_URL}?${params}&callback=handleResponse`;
        document.body.appendChild(script);
        setTimeout(() => script.remove(), 5000);
    }

    function handleResponse(response) {
        console.log('Google Sheets response:', response);
    }

    // ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨
    async function loadTrainingLogs() {
        const tbody = document.getElementById('trainingLogBody');
        
        // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶
        if (trainingLogs.length === 0) {
            trainingLogs = [
                { id: 1, date: '2025/12/20', time: '10:30', scenario: 'Ø­Ø±ÙŠÙ‚', scenarioKey: 'fire', trainer: 'Ø£. Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³Ø¹ÙŠØ¯', traineeCount: 8, duration: '15:30', trainees: 'Ø¯. Ù…Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠØŒ Ø£. ÙØ§Ø·Ù…Ø© Ø§Ù„Ø­Ø±Ø¨ÙŠØŒ Ø£. Ø£Ø­Ù…Ø¯ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ' },
                { id: 2, date: '2025/12/19', time: '14:00', scenario: 'Ø§Ù†Ù‚Ø·Ø§Ø¹ ÙƒÙ‡Ø±Ø¨Ø§Ø¡', scenarioKey: 'power', trainer: 'Ø£. Ø³Ø§Ø±Ø© Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ', traineeCount: 6, duration: '12:45', trainees: 'Ø£. Ù†ÙˆØ±Ø© Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠØŒ Ø£. Ø®Ø§Ù„Ø¯ Ø§Ù„Ø³Ø¨ÙŠØ¹ÙŠ' },
                { id: 3, date: '2025/12/18', time: '09:00', scenario: 'ØªÙØ´ÙŠ Ø¹Ø¯ÙˆÙ‰', scenarioKey: 'infection', trainer: 'Ø¯. Ø£Ø­Ù…Ø¯ Ø§Ù„Ø´Ù‡Ø±ÙŠ', traineeCount: 10, duration: '20:00', trainees: 'Ø£. Ø±ÙŠÙ… Ø§Ù„Ø´Ù‡Ø±ÙŠØŒ Ø£. Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù…Ø±ÙŠØŒ Ø£. Ù…Ù†Ù‰ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ' }
            ];
        }
        
        renderTrainingLog();
    }

    function renderTrainingLog() {
        const tbody = document.getElementById('trainingLogBody');
        tbody.innerHTML = trainingLogs.map((log, index) => `
            <tr>
                <td>${index + 1}</td>
                <td>${log.date}</td>
                <td>${log.time}</td>
                <td><span class="scenario-badge ${log.scenarioKey}">${log.scenario}</span></td>
                <td>${log.trainer}</td>
                <td>${log.traineeCount} Ù…ØªØ¯Ø±Ø¨</td>
                <td>${log.duration}</td>
                <td>
                    <button class="view-details-btn" onclick="showTrainingDetails(${log.id})">
                        <i class="fas fa-eye"></i> Ø¹Ø±Ø¶
                    </button>
                </td>
            </tr>
        `).join('');
    }

    // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨
    function showTrainingDetails(id) {
        const log = trainingLogs.find(l => l.id === id);
        if (!log) return;
        
        const content = document.getElementById('trainingModalContent');
        content.innerHTML = `
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                <span>${log.date}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„ÙˆÙ‚Øª:</span>
                <span>${log.time}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ:</span>
                <span class="scenario-badge ${log.scenarioKey}">${log.scenario}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„Ù…Ø¯Ø±Ø¨:</span>
                <span>${log.trainer}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„Ù…Ø¯Ø©:</span>
                <span>${log.duration}</span>
            </div>
            <div class="trainees-list-modal">
                <h4><i class="fas fa-users"></i> Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† (${log.traineeCount})</h4>
                <ul>
                    ${log.trainees.split('ØŒ ').map(name => `
                        <li><i class="fas fa-user-check"></i> ${name}</li>
                    `).join('')}
                </ul>
            </div>
        `;
        
        document.getElementById('trainingModal').classList.add('active');
    }

    // ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª
    async function loadReportsLogs() {
        const tbody = document.getElementById('reportsLogBody');
        
        // Ø¬Ù„Ø¨ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ù…Ù† Google Sheets
        try {
            // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø¹Ø±Ø¶
            if (reportsLogs.length === 0) {
                reportsLogs = [
                    { id: 'EMR-001', date: '2025/12/20', time: '08:45', type: 'Ø­Ø±ÙŠÙ‚', location: 'Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø£ÙˆÙ„ - Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„', status: 'resolved' },
                    { id: 'EMR-002', date: '2025/12/20', time: '11:20', type: 'Ø¥ØºÙ…Ø§Ø¡ / Ø¥ØµØ§Ø¨Ø©', location: 'Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø«Ø§Ù†ÙŠ - Ø§Ù„Ø¨Ø§Ø·Ù†ÙŠØ©', status: 'responded' },
                    { id: 'EMR-003', date: '2025/12/19', time: '15:30', type: 'ØªØ³Ø±Ø¨ Ù…ÙŠØ§Ù‡', location: 'Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø£Ø±Ø¶ÙŠ - Ø§Ù„Ù…Ø®ØªØ¨Ø±', status: 'pending' }
                ];
            }
            
            renderReportsLog();
        } catch (error) {
            console.error('Error loading reports:', error);
        }
    }

    function renderReportsLog() {
        const tbody = document.getElementById('reportsLogBody');
        const statusLabels = {
            pending: 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
            responded: 'ØªÙ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©',
            resolved: 'ØªÙ… Ø§Ù„Ø­Ù„'
        };
        
        tbody.innerHTML = reportsLogs.map(report => `
            <tr>
                <td>${report.id}</td>
                <td>${report.date}</td>
                <td>${report.time}</td>
                <td>${report.type}</td>
                <td>${report.location}</td>
                <td><span class="status-badge ${report.status}">${statusLabels[report.status]}</span></td>
                <td>
                    <button class="view-details-btn" onclick="showReportDetails('${report.id}')">
                        <i class="fas fa-eye"></i> Ø¹Ø±Ø¶
                    </button>
                </td>
            </tr>
        `).join('');
    }

    function showReportDetails(id) {
        const report = reportsLogs.find(r => r.id === id);
        if (!report) return;
        
        const statusLabels = {
            pending: 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
            responded: 'ØªÙ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©',
            resolved: 'ØªÙ… Ø§Ù„Ø­Ù„'
        };
        
        const content = document.getElementById('trainingModalContent');
        content.innerHTML = `
            <div class="detail-row">
                <span class="detail-label">Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº:</span>
                <span>${report.id}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„ØªØ§Ø±ÙŠØ®:</span>
                <span>${report.date}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„ÙˆÙ‚Øª:</span>
                <span>${report.time}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ù†ÙˆØ¹ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦:</span>
                <span>${report.type}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„Ù…ÙˆÙ‚Ø¹:</span>
                <span>${report.location}</span>
            </div>
            <div class="detail-row">
                <span class="detail-label">Ø§Ù„Ø­Ø§Ù„Ø©:</span>
                <span class="status-badge ${report.status}">${statusLabels[report.status]}</span>
            </div>
        `;
        
        document.getElementById('trainingModal').classList.add('active');
    }

    // ÙÙ„ØªØ±Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª
    function filterTrainingLog() {
        // ØªÙ†ÙÙŠØ° Ø§Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®
        renderTrainingLog();
    }

    function filterReportsLog() {
        // ØªÙ†ÙÙŠØ° Ø§Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ø­Ø§Ù„Ø©
        renderReportsLog();
    }

    // Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
    function printTrainingLog() {
        window.print();
    }

    function printReportsLog() {
        window.print();
    }

    function printTrainingDetails() {
        window.print();
    }

    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
    function closeModal(id) {
        document.getElementById(id).classList.remove('active');
    }

    // Toast
    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        
        toast.className = `toast ${type} show`;
        toastMessage.textContent = message;
        
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¨Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
    document.querySelectorAll('.modal-overlay').forEach(modal => {
        modal.addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });
    });
</script>

</body>
</html>
